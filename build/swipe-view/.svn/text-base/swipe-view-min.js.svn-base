(function(){const A="550ms";function B(C){var D=C["element"],E=C["newpage"];if(E){this.newpage=E;}this.element=mui.get(D);this.wrapper=document.createElement("div");this.wrapper.style.position="relative";this.wrapper.style.overflow="hidden";this.wrapper.style.width="100%";this.wrapper.style.webkitUserSelect="none";mui.insertBefore(this.wrapper,this.element);this.wrapper.appendChild(this.element);this.element.style.position="absolute";mui.on(this.element,"touchstart",this);mui.on(window,"orientationchange",this);this.setup();}B.prototype={_pushTranslation:function(C){this.touches.translations.shift();this.touches.translations.push(C);},_touchstart:function(C){var D=C.touches?C.touches[0]:C;this.touches.moving=false;this.touches.startTime=+(new Date);this.touches.startX=D.clientX-this.touches.translations[1];this.touches.startPosX=D.clientX;this.touches.offsetY=mui.getXY(this.element)[1];mui.on(this.element,"touchmove",this);mui.on(this.element,"touchend",this);},_touchmove:function(D){var E=D.touches?D.touches[0]:D;var C;D.preventDefault();this.touches.moving=true;this.touches.currentX=E.pageX;this.touches.lastMoved=+(new Date);C=this.touches.currentX-this.touches.startX;this._pushTranslation(C);if(mui.UA.Apple){this.scrollTo(C,"0s");}},_touchend:function(F){if(this.touches.moving){if(this.touches.translations[1]>this.touches.maxX){this._pushTranslation(this.touches.maxX);this.scrollTo(this.touches.maxX,A);}else{if(this.touches.translations[1]<this.touches.minX){this._pushTranslation(this.touches.minX);this.scrollTo(this.touches.minX,A);}else{var G=this.touches.startPosX-this.touches.currentX;var D=F.timeStamp-this.touches.startTime;var E=G/D;if(Math.abs(G)>this.touches.thresholdDistance){var C=(G>0)?this.nextPage:this.previousPage;C.call(this);}else{if(Math.abs(E)>=0.5){var C=(G>0)?this.nextPage:this.previousPage;C.call(this);}else{this.snapIntoPlace();}}}}}mui.removeEventListener(this.element,"touchmove",this);mui.removeEventListener(this.element,"touchend",this);},_transitionend:function(C){},_orientationchange:function(E){var D=window.innerWidth,C=window.innerHeight;this.height=0;this.itemOffsets=[];mui.each(mui.getAll("li",this.element),function(F,G){F.style.width=D+"px";this.height=Math.max(F.offsetHeight,this.height);this.itemOffsets.push(G*D);},this);this.wrapper.style.height=this.height+"px";this.element.style.width=((this.totalPages+1)*D)+"px";this.snapIntoPlace();this.activatePage();},handleEvent:function(C){switch(C.type){case"touchstart":case"mousedown":this._touchstart(C);break;case"touchmove":case"mousemove":this._touchmove(C);break;case"touchend":case"mouseup":this._touchend(C);break;case"orientationchange":this._orientationchange(C);break;case"webkitTransitionEnd":this._transitionend(C);break;}},activatePage:function(){var C=mui.get("li.mui-active",this.element);var D=mui.getAll("li",this.element)[this.currentPage-1];mui.removeClass(C,"mui-active");mui.addClass(D,"mui-active");if(this.newpage){this.newpage(this.currentPage);}},nextPage:function(){this.currentPage++;if(this.currentPage>this.totalPages){this.currentPage=this.totalPages;}var C=this.itemOffsets[this.currentPage-1]*-1;this._pushTranslation(C);this.scrollTo(C,A);this.activatePage();},previousPage:function(){this.currentPage--;if(this.currentPage<1){this.currentPage=1;}var C=this.itemOffsets[this.currentPage-1]*-1;this._pushTranslation(C);this.scrollTo(C,A);this.activatePage();},snapIntoPlace:function(){var C=this.itemOffsets[this.currentPage-1]*-1;this._pushTranslation(C);this.scrollTo(C,A);},scrollTo:function(C,F,E){var D="translate("+C+"px,0)";if(mui.UA.Apple){D="translate3d("+C+"px,0,0)";}F=F||"0s";E=E||"cubic-bezier(0, 0.1, 0, 1.0)";mui.setStyle(this.element,"-webkit-transition-duration",F);mui.setStyle(this.element,"-webkit-transition-timing-function",E);mui.setStyle(this.element,"-webkit-transform",D);return this;},setup:function(){var D=window.innerWidth,C=window.innerHeight;this.height=0;this.currentPage=1;this.totalPages=0;this.itemOffsets=[];mui.each(mui.getAll("li",this.element),function(E,F){E.style.display="inline-block";E.style.width=D+"px";E.style.webkitTransform=(mui.UA.Apple)?"translate3d(0,0,0)":"translate(0,0)";this.height=Math.max(E.offsetHeight,this.height);this.itemOffsets.push(F*D);this.totalPages++;},this);this.wrapper.style.height=this.height+"px";this.element.style.width=((this.totalPages+1)*D)+"px";this.touches={};this.touches.moving=false;this.touches.startTime=0;this.touches.startX=0;this.touches.currentX=0;this.touches.maxX=0;this.touches.startPosX=0;this.touches.offsetY=mui.getXY(this.element)[1];this.touches.translations=[0,0];this.touches.lastMoved=0;this.touches.minX=this.element.offsetWidth*-1;this.touches.thresholdDistance=D/2;this.scrollTo(0);}};mui.SwipeView=B;})();