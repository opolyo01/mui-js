(function(){mui={};var E={_logLevel:0,log:function(J){document.defaultView.console?console.log(J):"";},trace:function(J){if(this._logLevel>=3){this.log.apply(this,arguments);}},debug:function(J){if(this._logLevel>=2){this.log.apply(this,arguments);}},warn:function(J){if(this._logLevel>=1){this.log.apply(this,arguments);}},error:function(J,K){if(this._logLevel>=0){this.log.apply(this,arguments);}if(K){throw new Error(J);}},setLogLevel:function(K){var J=0;switch(K){case"trace":J=3;break;case"debug":J=2;break;case"warn":J=1;break;case"error":J=0;break;default:J=0;}this._logLevel=J;},each:function(N,K,L){if(!N||!N.length){return false;}for(var M=0,J=N.length;M<J;M++){K.call((L||N[M]),N[M],M);}},iterate:function(L,J,K){K=K||L;for(var M in L){if(L.hasOwnProperty(M)){J.call(K,L[M],M);}}}};var D={get:function(K,J){if(K instanceof HTMLElement){return K;}var L=this.getAll(K,J);return !L.length?null:(L.length===0?null:L[0]);},getAll:function(K,J){J=J||document;return Array.prototype.slice.call(J.querySelectorAll(K));},createElement:function(M,J){var L=document.createElement(M);for(var K in J){if(J.hasOwnProperty(K)){switch(K){case"className":case"innerHTML":L[K]=J[K];break;default:L.setAttribute(K,J[K]);break;}}}return L;},removeElement:function(J){J=(typeof J==="string")?this.get(J):J;if(J&&J.parentNode){J.parentNode.removeChild(J);}return J;},insertBefore:function(K,J){J=(typeof el==="string")?this.get(J):J;J.parentNode.insertBefore(K,J);},insertAfter:function(K,J){J=(typeof el==="string")?this.get(J):J;J.parentNode.insertBefore(K,J.nextSibling);},getStyle:function(K,J){K=(typeof K==="string")?this.get(K):K;if(!K){return false;}return window.getComputedStyle?document.defaultView.getComputedStyle(K,null).getPropertyValue(J):(K.currentStyle?K.currentStyle[J]:K.style[J]);},setStyle:function(K,J,L){K=(typeof K==="string")?this.get(K):K;if(K&&K.style){if(L===null){K.style.removeProperty(J);}else{K.style[J]=L;}}},setStyles:function(J,K){J=(typeof J==="string")?this.get(J):J;if(J&&J.style){this.iterate(K,function(M,L){this.setStyle(J,L,M);},this);}},getXY:function(M,L){M=(typeof M==="string")?this.get(M):M;var N=[M.offsetLeft,M.offsetTop];var K=M.offsetParent;var J=(this.getStyle(M,"position")==="absolute"&&M.offsetParent==M.ownerDocument.body);if(K!=M){while(K&&K!=L){N[0]+=K.offsetLeft;N[1]+=K.offsetTop;if(!J&&K.style.position=="absolute"){J=true;}if(L==K.parentNode){K=null;}else{K=K.offsetParent;}}}if(J){N[0]-=M.ownerDocument.body.offsetLeft;N[1]-=M.ownerDocument.body.offsetTop;}return N;},setXY:function(J,K){J=(typeof J==="string")?this.get(J):J;this.setStyle(J,"left",K[0]+"px");this.setStyle(J,"top",K[1]+"px");},addClass:function(K,J){K=(typeof K==="string")?this.get(K):K;if(K){if(!K.className.match(J)){K.className+=" "+J;}}},removeClass:function(K,J){K=(typeof K==="string")?this.get(K):K;if(K){K.className=K.className.replace(J,"").replace(/^\s+|\s+$/g,"");}},hasClass:function(L,K){var J=false;L=(typeof L==="string")?this.get(L):L;if(L&&L.className){J=(L.className.match(new RegExp("(?:^|\\s+)"+K+"(?:\\s+|$)"))!==null);}return J;},toggleClass:function(K,J){if(!D.hasClass(K,J)){D.addClass(K,J);}else{D.removeClass(K,J);}},css:function(J){var K=document.createElement("style");K.setAttribute("type","text/css");K.appendChild(document.createTextNode(J));document.getElementsByTagName("head")[0].appendChild(K);},contains:function(K,J,L){if(L===document||L===document.body){return true;}else{if(J===document.body){return false;}else{if(J===K){return true;}else{if(J&&J.parentNode){return this.contains(K,J.parentNode,L||K);}}}}return false;},inDocument:function(J){try{return mui.contains(document.body,J);}catch(K){return false;}},getAncestorBy:function(M,L,K,J){M=(typeof M==="string")?this.get(M):M;K=K||L;if(L.call(K,M)){return M;}else{if(M===document.body||M===J){return false;}else{if(M){return this.getAncestorBy(M.parentNode,L,K);}}}return false;},getAncestorByClassName:function(L,K,J){return this.getAncestorBy(L,function(M){return mui.hasClass(M,K);},null,J);},getAncestorByTagName:function(K,J){return this.getAncestorBy(K,function(L){return L.nodeName.toLowerCase()===J;});}};var A=(function(){var M=[];var P=[];var Y=[];var Z=null;var W=null;var N=null;var J=null;var K=0;var S=/i(Phone|P(o|a)d)/.test(navigator.userAgent)&&typeof window.ontouchstart!=="undefined";var U=/Android/.test(navigator.userAgent);function O(b){var a=b;switch(b.type){case"mousedown":case"mousemove":case"mouseup":a.touches=[b];break;}return a;}function V(a){switch(a.type){case"touchstart":Z=a;K=0;J=+(new Date);W=N=Z.touches[0].clientY;break;case"touchmove":K++;N=a.touches[0].clientY;break;case"touchend":X("touchend",a);if(Z){if((S&&!K)||(U&&K<=2&&(a.timeStamp-J)<500&&Math.abs(W-N)<15)){X("click",a);}}W=null;N=null;Z=null;break;}}function X(b,c){var a=b==="click"?P:Y;if(Z){mui.each(a,function(d){if(d&&mui.contains(d.element,Z.target)){var e={};e.preventDefault=function(){c.preventDefault();};e.stopPropagation=function(){c.stopPropagation();};mui.iterate(Z,function(f,g){e[g]=f;});mui.iterate(Z.touches[0],function(f,g){e[g]=f;});e.type=b;d.method(e);}});}}function T(f,e,d,b,a){var g,c;b=b||f;f=(typeof f==="string")?mui.get(f):f;a=!!a;if(f){if(typeof window.ontouchstart==="undefined"||mui.UA.Chrome){switch(e){case"touchstart":e="mousedown";break;case"touchmove":e="mousemove";break;case"touchend":e="mouseup";break;}g=(d.handleEvent&&typeof d.handleEvent==="function")?function(h){d.handleEvent.call(d,O(h));}:function(h){d.call(b,O(h));};}else{g=(d.handleEvent&&typeof d.handleEvent==="function")?function(h){d.handleEvent.call(d,h);}:function(h){d.call(b,h);};}c={element:f,type:e,originalMethod:d,method:g,useCapture:a};M.push(c);if((S||U)&&e==="click"){P.push(c);}else{if((S||U)&&e==="touchend"){Y.push(c);}else{f.addEventListener(e,g,a);}}}}function R(e,d,c,b,a){var f=function(){if(c.handleEvent&&typeof c.handleEvent==="function"){c.handleEvent.apply(c,arguments);}else{c.apply(b||c,arguments);}L(e,d,f,b,a);};T(e,d,f,b,a);}function L(d,n,o,q,e){var h=0,l=M.length,p,a;
q=q||d;d=(typeof d==="string")?mui.get(d):d;e=!!e;if(d){if(typeof window.ontouchstart==="undefined"||mui.UA.Chrome){switch(n){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;}}for(h;h<l;h++){p=M[h];if(p.type===n&&p.useCapture===e&&p.element===d&&p.originalMethod===o){d.removeEventListener(n,p.method,p.useCapture);M.splice(h,1);h--;l--;}else{if(p.type===n&&p.useCapture===e&&p.element===d&&!o){d.removeEventListener(n,p.method,p.useCapture);M.splice(h,1);h--;l--;}}if((typeof window.ontouchstart!=="undefined"&&!mui.UA.Chrome)&&(n==="click"||n==="touchend")){var k=n==="click"?P:Y;for(var g=0,f=k.length;g<f;g++){var m=k[g];if(m.useCapture===e&&m.element===d&&m.originalMethod===o){k.splice(g,1);g--;f--;}else{if(m.useCapture===e&&m.element===d&&!o){k.splice(g,1);g--;f--;}}}if(n==="click"){P=k;}else{Y=k;}}}}}function Q(){M=M.filter(function(b,a,c){return mui.inDocument(b.element);});}if(S||U){document.addEventListener("touchstart",V,true);document.addEventListener("touchmove",V,true);document.addEventListener("touchend",V,true);}return{on:T,one:R,removeEventListener:L,clearStaleEventBindings:Q};})();var C={animate:function(J,R){J=(typeof J==="string")?mui.get(J):J;var K=mui.getStyle(J,"position");if(K!="absolute"||K!="relative"){mui.setStyle(J,"position","relative");}var P={};var L=R.duration||"350ms";var N=[];var M=[];mui.iterate(R.properties,function(T,S){switch(S){case"left":case"right":J.style.webkitTransitionTimingFunction=R.easing||"ease-in-out";S="-webkit-transform";T="translateX("+T+")";M.push(T);break;case"top":case"bottom":J.style.webkitTransitionTimingFunction=R.easing||"ease-in-out";S="-webkit-transform";T="translateY("+T+")";M.push(T);break;default:P[S]=T;break;}N.push(S);});if(M.length>0){if(P["-webkit-transform"]){P["-webkit-transform"]+=" "+M.join(" ");}else{P["-webkit-transform"]=M.join(" ");}}J.style.webkitTransitionDuration=L;J.style.webkitTransitionProperty=N.join(" ");if(R.easing){J.style.webkitTransitionTimingFunction=R.easing;}mui.iterate(P,function(T,S){J.style[S]=T;});if(R.callback){var Q=R.callback.scope||R.callback.onComplete;var O=function(){R.callback.onComplete.call(Q);J.removeEventListener("webkitTransitionEnd",O,false);};J.addEventListener("webkitTransitionEnd",O,false);}}};var B={reflect:function(J){var K=function(Q){var N=document.createElement("div");N.className="mui-reflect-container";J.parentNode.insertBefore(N,J);N.appendChild(J);var P=document.createElement("canvas");var M=P.getContext("2d");var L=40;var O=0.3;N.appendChild(P);P.style.height=L+"px";P.style.width=J.offsetWidth+"px";P.height=L;P.width=J.offsetWidth;M.save();M.translate(0,J.offsetHeight-1);M.scale(1,-1);M.drawImage(J,0,0,J.offsetWidth,J.offsetHeight);M.restore();M.globalCompositeOperation="destination-out";var R=M.createLinearGradient(0,0,0,L);R.addColorStop(1,"rgba(255, 255, 255, 1.0)");R.addColorStop(0,"rgba(255, 255, 255, "+(1-O)+")");M.fillStyle=R;M.rect(0,0,J.offsetWidth,L*2);M.fill();};if(!mui.inDocument(J)){J.addEventListener("load",function(){K(J);},false);}else{K(J);}}};var H={CONNECTION_TIMEOUT:7000,io:function(K,T){var R=new XMLHttpRequest(),J=T.method||"get",Q=T.callback?T.callback.success:null,M=T.callback?T.callback.failure:null,S=T.callback?T.callback.scope:null,N=T.params||null,O=true,P=document.body;if(T.update){var L=(typeof T.update==="string")?mui.get(T.update):T.update;Q=function(U){L.innerHTML=U.responseText;};}R.open(J,K,true);R.onreadystatechange=(Q)?function(U){P.removeEventListener("offline",R.onerror,false);if(R.readyState!==4){return;}if(R.status===200||R.status===0){Q.call(S,U.target);}else{if(M){O=false;M.call(S,U.target);}}}:null;R.onerror=R.onabort=function(U){P.removeEventListener("offline",R.onerror,false);if(O&&M){M.call(S,{status:0,statusText:"error"});}O=false;};P.addEventListener("offline",R.onerror,false);if(T.headers){mui.each(T.headers,function(U){mui.iterate(U,function(V,W){R.setRequestHeader(W,V);});});}if(!("onLine" in navigator)||navigator.onLine){R.send(N);}else{R.onerror();}},getScript:function(J,M,K){var L=mui.createElement("script",{type:"text/javascript",src:J});if(typeof M==="function"){mui.on(L,"load",mui.bind(M,K));}document.getElementsByTagName("head")[0].appendChild(L);}};var G={provide:function(M){var K,J,L=M.split("."),N=window;for(K=0,J=L.length;K<J;K++){N[L[K]]=(typeof N[L[K]]==="undefined")?{}:N[L[K]];N=N[L[K]];}},extend:function(L,J,M,K){L.prototype.__proto__=J.prototype;L.prototype.constructor=L;if(J.prototype.constructor==Object.prototype.constructor){J.prototype.constructor=J;}L.superclass=J.prototype;if(M){mui.iterate(M,function(N,O){L.prototype[O]=N;});}if(K){mui.iterate(K,function(N,O){L[O]=N;});}return L;},mix:function(K,L,J){K=mui.augment.call(this,K,L,J);K=mui.augmentProto.call(this,K,L,J);return K;},augment:function(L,M,J){for(var K in M){if(M.hasOwnProperty(K)){if((J&&typeof L[K]!=="undefined")||typeof L[K]==="undefined"){L[K]=M[K];}}}return L;},augmentProto:function(L,M,J){for(var K in M.prototype){if((J&&typeof L.prototype[K]!=="undefined")||typeof L.prototype[K]==="undefined"){L.prototype[K]=M.prototype[K];}}},bind:function(L,J){var K=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);mui.each(K,function(N){M.push(N);});return L.apply((J||L),M);};},add:function(J,K){mui[J]=K;return mui[J];}};var F={UA:(function(){var K={Apple:false,Safari:false,iPhone3:false,webOS:false,Android:false,WebKit:false,Gears:false,Chrome:false,CSSTransitions:false};if(typeof navigator!="undefined"){if(RegExp(" AppleWebKit/").test(navigator.userAgent)){K.WebKit=true;}if(RegExp("Android").test(navigator.userAgent)){K.Android=true;}if(RegExp("Chrome").test(navigator.userAgent)){K.Chrome=true;}if(RegExp("webOS").test(navigator.userAgent)){K.webOS=true;}if(/i(Phone|P(o|a)d)/.test(navigator.userAgent)){K.Apple=true;}if(K.Apple&&RegExp("OS 3").test(navigator.userAgent)){K.iPhone3=true;}if(K.Apple&&RegExp("iPad").test(navigator.userAgent)){K.iPad=true;
}if(K.Apple||(!K.Android&&!K.webOS&&RegExp("Safari").test(navigator.userAgent))){K.Safari=true;}if(K.iPad||K.Chrome){K.tablet=true;}}K.Gears=typeof(navigator.mimeTypes)!=="undefined"&&navigator.mimeTypes["application/x-googlegears"];if(K.Gears){var J=document.createElement("object");J.style.display="none";J.style.width="0px";J.style.height="0px";J.type="application/x-googlegears";document.documentElement.appendChild(J);if(typeof google==="undefined"){google={};}if(!google.gears){google.gears={factory:J};}}K.CSSTransitions=(typeof WebKitCSSMatrix!=="undefined");if(K.Android){D.addClass(document.documentElement,"android");}if(K.Apple&&!K.iPad){D.addClass(document.documentElement,"iphone");}if(K.iPad){D.addClass(document.documentElement,"ipad");}if(K.webOS){D.addClass(document.documentElement,"webOS");}return K;})()};var I=function(){function K(P,T,Q,R){var S=/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/,V="",X="",W="",U;if(Q){V=Q[1];X=Q[2];W=Q[3];}if(V=="\\"){P.push(R,X);if(!T[X]){T[X]=[];}T[X].push(P.length-1);return;}U=S.exec(W);if(!U){P.push(R,V);return;}if(!T[W]){T[W]=[];}T[W].push(P.length+2);P.push(R,V,W);}function J(U,T,Q,S){var R,P=0;while(U){if(R=U.match(T)){P=R.index;K(Q,S,R,U.slice(0,P));U=U.slice(P+R[0].length);}else{Q.push(U);U="";}}}function O(R){var Q=String,P=typeof R;switch(P){case"string":return R;case"number":return Q(R);}R=R||"";R=Q(R);return R;}function L(Q,R){var P="";Q=O(Q);R=R||L.DEFAULT_PATTERN;this.pattern=R;this.template=Q;this.buffer=[];this.props={};}L.DEFAULT_PATTERN=/(^|.|\r|\n)(%\{(.*?)\})/;L.SPRINTF_PATTERN=/(^|.|\r|\n)(\{(.*?)\})/;L.prototype.toString=L.prototype.valueOf=function(R){var V="",Q,W,S,Z,T,Y,U,P,X=(this.pattern==L.DEFAULT_PATTERN)?"%{":"{";if(R){if(!this.buffer||!this.buffer.length){this.parse(this.template);}Q=this.buffer;W=this.props;if(Q&&W){for(S in W){P=R[S];if(typeof P==="undefined"){P=(S.charAt(S.length-1)=="}")?("\\"+S):(X+S+"}");}T=W[S];if(T){Y=0;U=T.length;while(U--){Q[T[Y++]]=P;}}}}V=Q.join("");}else{V=this.template;}this.data=R;return V;};L.prototype.parse=function(P){if(arguments.length){P=O(P);if(P&&P!=this.template){this.template=P;this.buffer=[];this.props={};this.data=null;}}J(this.template,this.pattern,this.buffer,this.props);};var M={};var N={};if(!String.prototype.supplant){String.prototype.supplant=function(R,P){var Q=N[this];if(!Q){Q=new L(this,L.SPRINTF_PATTERN);Q.parse();if(!P){N[this]=Q;}}return Q.valueOf(R);};}return{map:function(T,P,W,S,Y){var R,Q,X,U,V;if(typeof P==="string"){R=mui.get(P);Q=P;}else{R=P;Q=R&&R.getAttribute("id");}if(!R){return;}if(!Q){return;}if(!Y){X=M[Q];}if(!X){U=R.innerHTML.replace(/(\-\-\>)|(\<\!\-\-)/g,"");X=new L(U,L.DEFAULT_PATTERN);X.parse();if(!Y){M[Q]=X;}}S=S||{};S.className=S.className?S.className+" "+R.className:R.className;V=W?mui.createElement(W,S):R.cloneNode(true);if(!W){V.removeAttribute("id");}V.innerHTML=X.valueOf(T);return V;},supplant:function(R,Q,P){return R.supplant(Q,P);}};}();G.augment(mui,E);G.augment(mui,D);G.augment(mui,A);G.augment(mui,C);G.augment(mui,B);G.augment(mui,H);G.augment(mui,G);G.augment(mui,F);G.augment(mui,I);})();(function(){function A(){this._mappings={};this._regExpCache={};if(typeof window.onhashchange!=="undefined"&&mui.UA.iPad){mui.on(window,"popstate",this._onHistoryPop,this);}setInterval(mui.bind(this._checkWindow,this),100);}A.prototype={_hash:null,_popping:false,_history:[],_historyIdx:0,_historyLength:0,_onHistoryPop:function(){this._popping=true;},_manageHistory:function(C){var D=this._history.lastIndexOf(C),E=(D>-1),B=this._history.length;if(E&&D==this._historyIdx-1&&window.history.length<this._historyLength){this._historyIdx=D;return true;}else{if(E&&this._historyIdx<B&&D-1==this._historyIdx){this._historyIdx=D;}else{if(this._historyIdx&&B!=this._historyIdx+1){this._history.splice(this._historyIdx+1,B-this._historyIdx);B=this._history.length;}this._historyIdx=B;this._history.push(C);}}this._historyLength=window.history.length;return false;},_checkWindow:function(){if(this._hash&&this._hash!==window.location.hash.substr(1)){if(window.location.hash===""){history.back();}else{this._hash=window.location.hash.substr(1);this.openUrl(this._hash);}}},_ioSuccess:function(C,B){B.innerHTML=C.responseText;},_ioFailure:function(C,B){},openUrl:function(C,E,I){if(E===true){this._hash=window.location.hash=C;return this;}var D,H,G,K,F,B=C,J;if(!I&&(!this._hash||this._hash!==C)){window.location.hash=this._hash=C;if(typeof window.history.pushState=="function"){window.history.replaceState(C,"mui Navigator URL");}}if(C[0]==="/"){C=C.substring(1);}if(typeof window.history.pushState=="function"){J=this._popping;}else{J=this._manageHistory(C);}this._popping=false;if(typeof this._regExpCache[C]==="undefined"){this._regExpCache[C]=C.match(/\?(.*)/);}G=this._regExpCache[C];if(G){F={};G=G[1];C=C.substr(0,C.indexOf("?"));K=G.split("&");mui.each(K,function(M){var L=M.split("=");F[L[0]]=L[1];});}D=document.getElementById(C);H=mui.getAll(".mui-view[x-mui-showing=true]");if(H&&D){mui.each(H,function(L){L.removeAttribute("x-mui-showing");L.style.display="none";});}if(D){D.setAttribute("x-mui-showing","true");D.style.display="block";if(D.getAttribute("x-mui-href")&&!D.getAttribute("x-mui-loaded")){B=D.getAttribute("x-mui-href");if(G){B+="?"+G;}D.setAttribute("x-mui-loaded","true");mui.io(B,{callback:{success:mui.bind(this._ioSuccess,this,D),failure:mui.bind(this._ioFailure,this,D)}});}}if(this._mappings[C]){mui.each(this._mappings[C],function(L){L(C,F,J);});}else{if(this._mappings["*"]){mui.each(this._mappings["*"],function(L){L(C,F,J);});}}return this;},mapUrl:function(B,C){this._mappings[B]=this._mappings[B]||[];this._mappings[B].push(C);return this;}};mui.Navigator=A;})();(function(){function A(B){B=B||{};if(B.navigationController){this.navigationController=B.navigationController;}if(B.tintColor){this.tintColor=B.tintColor;}this.initialize();}A.prototype={element:null,itemsContainer:null,items:null,tintColor:null,handleEvent:function(C){var B=mui.getAncestorByClassName(C.target,"mui-navback");
switch(C.type){case"touchstart":case"mousedown":C.preventDefault();if(B){mui.addClass(this._backElement,"mui-depressed");}break;case"touchmove":case"mousemove":if(B){mui.removeClass(this._backElement,"mui-depressed");}break;case"touchend":case"mouseup":C.preventDefault();if(B){setTimeout(mui.removeClass,0,this._backElement,"mui-depressed");}break;case"click":if(mui.getAncestorByClassName(C.target,"mui-navtitle")){if(this.navigationController){this.navigationController.didClickTitle();}}break;}},setItems:function(B,D,C){this.show();this.setLeftBarItem(B.leftBarItem);if(!B.leftBarItem){this.setBack(B.back,B.backAction);}else{this.setBack(null);}this.setRightBarItem(B.rightBarItem);this.setTitle(B.title);},setItemsWithAnimation:function(B,C){var D=this.itemsContainer.cloneNode(true);mui.addClass(D,"mui-navbar-clone");mui.insertBefore(D,this.itemsContainer);this.setLeftBarItem(B.leftBarItem);if(!B.leftBarItem){this.setBack(B.back,B.backAction);}this.setRightBarItem(B.rightBarItem);this.setTitle(B.title);this.itemsContainer.style.visibility="hidden";this.itemsContainer.style.webkitTransitionDuration="0s";this.itemsContainer.style.webkitTransform=C?"translateX(-50%)":"translateX(50%)";this.itemsContainer.style.opacity="0";setTimeout(mui.bind(function(){this.itemsContainer.style.visibility="visible";this.itemsContainer.style.webkitTransitionDuration="";this.itemsContainer.style.opacity="1";this.itemsContainer.style.webkitTransform="translateX(0)";D.style.opacity="0";D.style.webkitTransform=C?"translateX(50%)":"translateX(-50%)";setTimeout(function(){D.parentNode.removeChild(D);},300);},this),1);},setBack:function(C,F,E){var D=E||this._backElement,B;if(!C){mui.addClass(D,"mui-hidden");D.innerHTML="";mui.removeEventListener(D,"touchend");mui.removeEventListener(D,"click");}else{mui.removeEventListener(D,"click");mui.removeClass(D,"mui-hidden");if(typeof C==="string"){mui.removeClass(D,"mui-backicon");B=(typeof F==="string")?'<h6 class="mui-navbar-back"><a href="'+F+'">'+C+"</a></h6>":'<h6 class="mui-navbar-back">'+C+"</h6>";}else{mui.addClass(D,"mui-backicon");B=(typeof F==="string")?'<h6 class="mui-navbar-back"><a href="'+F+'"><b></b></a></h6>':'<h6 class="mui-navbar-back"><b class="mui-navbar-b"></b></h6>';}D.innerHTML=B;if(typeof F==="function"){mui.one(D,"click",F);}mui.on(D,"touchstart",this);mui.on(D,"touchmove",this);mui.on(D,"touchend",this);}return D;},setLeftBarItem:function(B){this._leftBarItemElement.innerHTML="";if(B instanceof HTMLElement){mui.addClass(B,"mui-nav-child");this._leftBarItemElement.appendChild(B);}else{if(mui.Button&&B instanceof mui.Button){B.render(this._leftBarItemElement);}else{this._leftBarItemElement.innerHTML="";}}},setRightBarItem:function(B){this._rightBarItemElement.innerHTML="";if(mui.Pager&&B instanceof mui.Pager){B.render(this._rightBarItemElement);}else{if(mui.Button&&B instanceof mui.Button){B.render(this._rightBarItemElement);}else{if(B instanceof HTMLElement){mui.addClass(B,"mui-nav-child");this._rightBarItemElement.appendChild(B);}else{this._rightBarItemElement.innerHTML="";}}}},setTitle:function(J,E){var C=E||this._titleElement,B=mui.createElement("div",{className:"mui-navtitle-el"}),D,M,K,H,P,I,F,L=this.element.offsetWidth-30,G=this._backElement?this._backElement.offsetWidth:0,O=this._rightBarItemElement?this._rightBarItemElement.offsetWidth:0,N=this._leftBarItemElement?this._leftBarItemElement.offsetWidth:0;this.title=J;C.innerHTML="";mui.addClass(C,"mui-noleft");C.appendChild(B);if(mui.SearchBox&&J instanceof mui.SearchBox){mui.addClass(B,"mui-block");if(!G){mui.addClass(B,"mui-wide");}J.render(B);}else{if(typeof J==="string"){B.appendChild(document.createTextNode(J));}else{if(J){B.appendChild(J);}}}if(G&&B){mui.removeClass(C,"mui-noleft");D=G;L-=D;}if(O&&B){M=O;L-=M;}if(N&&B){mui.removeClass(C,"mui-noleft");D=N;L-=D;}mui.setStyle(B,"max-width",L+"px");I=B.offsetWidth;F=B.offsetLeft;if(G&&B){B.style.marginLeft="-"+G+"px";if(F<=(C.offsetLeft+3)){B.style.marginLeft="";mui.addClass(B,"mui-block");}}if(O&&B){B.style.marginRight="-"+O+"px";P=mui.getXY(this._rightBarItemElement);if((F+I)>=P[0]){B.style.marginRight="";mui.addClass(B,"mui-block");}}if(N&&B){B.style.marginLeft="-"+N+"px";if(F<=D){B.style.marginLeft="";mui.addClass(B,"mui-block");}}return C;},hide:function(){this.element.removeAttribute("x-mui-showing");},show:function(){this.element.setAttribute("x-mui-showing","true");},setTintColor:function(B){this.tintColor=B;if(typeof this.tintColor==="string"){mui.addClass(this.element,"mui-tinted");this.element.style.background=this.tintColor;}else{mui.removeClass(this.element,"mui-tinted");this.element.style.background="";}},initialize:function(){var B=mui.get("body > header");this.element=mui.createElement("div",{className:"mui-navbar"});if(this.navigationController){this.element.setAttribute("x-mui-controller",this.navigationController.NAME);}this.itemsContainer=mui.createElement("div",{className:"mui-navbar-wrap"});this.element.appendChild(this.itemsContainer);if(!B){B=mui.createElement("header");mui.insertBefore(B,document.body.firstChild);}if(B.lastChild){mui.insertAfter(this.element,B.lastChild);}else{B.appendChild(this.element);}this.items={back:null,leftBarItem:null,title:null,rightBarItem:null};this._backElement=mui.createElement("div",{className:"mui-navbar-el mui-navback"});this._leftBarItemElement=mui.createElement("div",{className:"mui-navbar-el mui-navleft"});this._titleElement=mui.createElement("div",{className:"mui-navbar-el mui-navtitle"});this._rightBarItemElement=mui.createElement("div",{className:"mui-navbar-el mui-navright"});this.itemsContainer.appendChild(this._backElement);this.itemsContainer.appendChild(this._leftBarItemElement);this.itemsContainer.appendChild(this._titleElement);this.itemsContainer.appendChild(this._rightBarItemElement);if(this.tintColor){this.setTintColor(this.tintColor);}mui.on(this.element,"click",this);mui.on(window,"orientationchange",mui.bind(function(){if(this.title){this.setTitle(this.title);}},this));
}};mui.NavigationBar=A;})();(function(){var B="mui-showing",A="disabled",D=".";function C(F,E){E=E||{};this.tabContents=[];this.element=mui.get(F);this.tabs=mui.getAll("li",this.element);if(E.activeTab){this.setActiveTab(E.activeTab);}else{var G=mui.get(D+B,this.element);this.active=G?G:this.tabs[0];this.activeIndex=this.tabs.indexOf(this.active);}mui.addClass(this.element,"mui-tab-view");if(!mui.hasClass(this.active,B)){mui.addClass(this.active,B);}if(E.tabContents){mui.each(E.tabContents,function(H,I){var J=mui.get(H);mui.addClass(J,"mui-tab-content");if(I===this.activeIndex){mui.addClass(J,B);}this.tabContents.push(J);},this);}mui.on(this.element,"click",this);}C.prototype={handleEvent:function(F){var E=mui.getAncestorByTagName(F.target,"li");if(E&&F.type==="click"){F.preventDefault();var G=mui.get("a",E);if(G&&G.className!==" disabled"&&this.active&&E===this.active){this.tabRefreshed(this.activeIndex);}else{if(this.active&&E!==this.active){this.activateTabAtIndex(this.tabs.indexOf(E)).tabChanged(this.activeIndex);}}}},tabChanged:function(E){},tabRefreshed:function(E){},setTabContent:function(E,F){this.tabContents[E]=mui.get(F);},activateTabAtIndex:function(E){var G=this.active,F=this.activeIndex,H;this.setActiveTab(E);mui.removeClass(G,B);mui.addClass(this.active,B);if(this.tabContents){H=this.tabContents[F];}if(H){mui.removeClass(H,B);mui.addClass(this.tabContents[this.activeIndex],B);}return this;},enableActiveTab:function(){var E=mui.get("a",this.active);if(mui.hasClass(E,A)){mui.removeClass(E,A);}},disableActiveTab:function(){var E=mui.get("a",this.active);if(!mui.hasClass(E,A)){mui.addClass(E,A);}},setActiveTab:function(E){this.activeIndex=E;this.active=this.tabs[E];}};mui.TabView=C;})();(function(){function A(B){var C;B=B||{};this.placeholder=B.placeholder||"";this.callback=B.callback||{};if(B.element){this.element=B.element;C=mui.get("form",this.element);this.input=mui.get("input[type='search']",C);this.closeButton=mui.get("div.mui-close",this.element);}else{C=document.createElement("form");this.element=mui.createElement("div",{className:"mui-searchbox"});this.input=mui.createElement("input",{type:"search"});this.closeButton=mui.createElement("div",{className:"mui-close"});this.element.appendChild(C);this.element.appendChild(this.closeButton);C.appendChild(this.input);if(this.placeholder){this.input.setAttribute("placeholder",this.placeholder);}if(B.autocorrect){this.input.setAttribute("autocorrect",B.autocorrect);}if(B.autocapitalize){this.input.setAttribute("autocapitalize",B.autocapitalize);}}mui.on(this.closeButton,"touchstart",mui.bind(this.clear,this));mui.on(C,"submit",this);mui.on(this.input,"blur",this);mui.on(this.input,"focus",this);mui.on(this.input,"keyup",this);if(this.callback.keydown){mui.on(this.input,"keydown",this);}if(this.callback.keypress){mui.on(this.input,"keypress",this);}}A.prototype={element:null,input:null,closeButton:null,placeholder:null,callback:null,render:function(B){B=mui.get(B);if(B){B.appendChild(this.element);}return this;},clear:function(){mui.removeClass(this.element,"mui-typing");this.input.value="";if(this.callback.clear){this.callback.clear();}return this;},handleEvent:function(B){switch(B.type){case"submit":B.preventDefault();this.input.blur();if(this.callback.submit){this.callback.submit(B,this.input.value);}break;case"focus":if(this.input.value.length>0){mui.addClass(this.element,"mui-typing");}else{mui.removeClass(this.element,"mui-typing");}if(this.callback.focus){this.callback.focus(B);}break;case"blur":mui.removeClass(this.element,"mui-typing");if(this.callback.blur){this.callback.blur(B);}break;case"keyup":if(this.input.value.length>0){mui.addClass(this.element,"mui-typing");}else{mui.removeClass(this.element,"mui-typing");}if(this.callback.keyup){this.callback.keyup(B);}break;default:if(this.callback[B.type]){this.callback[B.type].call(this.callback[B.type],B);}}},getValue:function(){return this.input.value;},setValue:function(B){this.input.value=B;return this;}};mui.SearchBox=A;})();(function(){const C="vertical";const A="horizontal";function B(D){D=D||{};this.orientation=D.orientation||C;this.element=mui.createElement("div",{className:"mui-pager"});this.element.innerHTML=["<ul>",'<li class="mui-prev"><a href="#"></a></li>','<li class="mui-next"><a href="#"></a></li>',"</ul>"].join("");if(this.orientation===A){this.element.setAttribute("x-mui-orient","horizontal");}mui.on(this.element,"touchstart",this);}B.prototype={prevUrl:null,nextUrl:null,handleEvent:function(E){var D=mui.getAncestorByTagName(E.target,"li");switch(E.type){case"touchstart":case"mousedown":if(D&&D.className==="mui-next"){this.goNext();}else{if(D&&D.className==="mui-prev"){this.goPrev();}}break;}},render:function(D){D.appendChild(this.element);return this;},goNext:function(){if(this.nextUrl){if(typeof mui.ApplicationController!=="undefined"){mui.ApplicationController.getInstance().doTransition=false;mui.ApplicationController.getInstance().openUrl(this.nextUrl);}else{window.location.hash=this.nextUrl;}}return this;},goPrev:function(){if(this.prevUrl){if(typeof mui.ApplicationController!=="undefined"){mui.ApplicationController.getInstance().doTransition=false;mui.ApplicationController.getInstance().openUrl(this.prevUrl);}else{window.location.hash=this.prevUrl;}}return this;},setPrevUrl:function(D){var E=mui.get('li[class="mui-prev"]',this.element);this.prevUrl=D;if(this.prevUrl){E.setAttribute("x-mui-activated","true");}else{E.removeAttribute("x-mui-activated");}return this;},setNextUrl:function(D){var E=mui.get('li[class="mui-next"]',this.element);this.nextUrl=D;if(this.nextUrl){E.setAttribute("x-mui-activated","true");}else{E.removeAttribute("x-mui-activated");}return this;}};mui.Pager=B;})();(function(){function E(H,G){this.insertId=H.lastInsertId;this.rowsAffected=H.rowsAffected;this.rows=new D(G);}E.prototype={insertId:null,rowsAffected:null,rows:null};function D(I){this.length=0;this._items=[];while(I.isValidRow()){var H={};for(var J=0,G=I.fieldCount();J<G;
J++){H[I.fieldName(J)]=I.field(J);}this._items.push(H);this.length++;I.next();}}D.prototype={_items:null,length:null,item:function(G){return this._items[G];}};function C(H,G,I){this._db=H;this._error=false;}C.prototype={_db:null,executeSql:function(L,K,J,H){if(this._error){return;}try{var G=new E(this._db,this._db.execute(L,K));if(G&&J){J(this,G);}else{if(!G){this._error=true;if(H){H();}}}}catch(I){if(H){H();}this._error=true;}}};function F(G){this._db=G;}F.open=function(K,G,J){var H;try{H=google.gears.factory.create("beta.database");H.open(K);}catch(I){return false;}return new F(H);};F.prototype={transaction:function(J,G,H){this._db.execute("BEGIN TRANSACTION");var I=new C(this._db);J(I);if(I._error){this._db.execute("ROLLBACK");if(G){G(I);}}else{this._db.execute("COMMIT");if(H){H(I);}}}};var A={};function B(G){this._db=G;}B.open=function(L,G,J){var H;if(L in A){H=A[L];}else{try{H=openDatabase(L,"",J,200000);A[L]=H;}catch(K){return false;}}var I=new B(H);return I;};B.prototype={transaction:function(I,G,H){this._db.transaction.apply(this._db,arguments);}};mui=mui||{};mui.Storage=(function(){if(typeof openDatabase==="undefined"){return F;}return B;})();})();(function(){function A(D,B,C){if(typeof D!=="object"){throw new Error("Transition: inView parameter must be an HTMLElement");}if(typeof B!=="object"){throw new Error("Transition: outView parameter must be an HTMLElement");}this.inView=D;this.outView=B;this.options=C||{};this.backupTimer=null;this._setup();}A.TYPE_PUSH="push";A.TYPE_SLIDE="slide";A.TYPE_FADE="fade";A.TYPE_FLIP="flip";A.DIR_RIGHT_TO_LEFT="right-to-left";A.DIR_LEFT_TO_RIGHT="left-to-right";A.DIR_TOP_TO_BOTTOM="top-to-bottom";A.DIR_BOTTOM_TO_TOP="bottom-to-top";A.DURATIONS={push:350,fade:800,slide:400,flip:650};A.prototype._setTransitionProperties=function(C){var B=this.inView.style,D=this.outView.style;B.webkitTransitionProperty=D.webkitTransitionProperty=C.join(" ");B.webkitTransitionTimingFunction=D.webkitTransitionTimingFunction=this.options.timing;B.webkitTransitionDuration=D.webkitTransitionDuration=this.options.duration+"ms";};A.prototype._removeTransitionProperties=function(){var B=this.inView.style,C=this.outView.style;this.inView.removeEventListener("webkitTransitionEnd",this._transitionEnd,false);this.outView.removeEventListener("webkitTransitionEnd",this._transitionEnd,false);B.display="";C.display="";B.webkitTransitionProperty=C.webkitTransitionProperty="";B.webkitTransitionTimingFunction=C.webkitTransitionTimingFunction="";B.webkitTransitionDuration=C.webkitTransitionDuration="";C.webkitBackfaceVisibility="";C.webkitTransform="";C.removeProperty("opacity");B.removeProperty("opacity");};A.prototype._transitionEnd=function(){if(this.backupTimer){clearTimeout(this.backupTimer);this.backupTimer=null;}else{return;}if(this.options.onComplete){this.options.onComplete();}this._removeTransitionProperties();if(this.options.fullscreen){this.inView.style.width="";}};A.prototype._translate=function(D,C,H,G,E,B){var F=mui.UA.Apple?"translate3d("+(C||0)+", "+(H||0)+", "+(G||0)+")":"translate("+(C||0)+", "+(H||0)+")";if(E){D.style.webkitTransitionTimingFunction="ease-in-out";D.style.webkitTransitionProperty="-webkit-transform";D.style.webkitTransitionDuration=E+"ms";mui.one(D,"webkitTransitionEnd",function(){D.style.webkitTransitionTimingFunction="";D.style.webkitTransitionTimingProperty="";D.style.webkitTransitionDuration="";if(typeof B==="function"){B();}});}D.style.webkitTransform=F;return D;};A.prototype._setup=function(){var B=this.inView.parentNode;this._offsetWidth=this.outView.offsetWidth;if(B){this.inView.parentNode.style.position="relative";}this.options.type=this.options.type||A.TYPE_PUSH;this.options.duration=(typeof this.options.duration!="undefined")?this.options.duration:A.DURATIONS[this.options.type];if(this.options.type===A.TYPE_SLIDE){this.options.direction=this.options.direction||A.DIR_LEFT_TO_RIGHT;}if(typeof this.options.fullscreen=="undefined"){this.options.fullscreen=true;}if(!(this.inView instanceof HTMLBodyElement)){this.inView.style.position="absolute";this.inView.style.width=this.options.fullscreen?"100%":this._offsetWidth+"px";this.inView.style.left="0";this.inView.style.top="0";this.inView.style.display="block";}switch(this.options.type){case A.TYPE_FLIP:this.options.timing="linear";this.inView.parentNode.style.webkitPerspective="500px";this.inView.parentNode.style.webkitTransformStyle="preserve-3d";this.inView.style.display="none";this.inView.style.webkitBackfaceVisibility=this.outView.style.webkitBackfaceVisibility="hidden";this.inView.style.webkitTransform=this.options.reverse?"rotateY(180deg)":"rotateY(-180deg)";this.inView.style.display="block";this.outView.style.webkitTransform="rotateY(0)";this.outView.style.display="block";setTimeout(mui.bind(function(){this._setTransitionProperties(["-webkit-transform"]);},this),0);break;case A.TYPE_SLIDE:scrollTo(0,0);this.options.timing="ease-in-out";switch(this.options.direction){case A.DIR_BOTTOM_TO_TOP:this._translate(this.options.reverse?this.outView:this.inView,0,(this.options.reverse?0:window.innerHeight)+"px",0);break;case A.DIR_TOP_TO_BOTTOM:this._translate(this.options.reverse?this.outView:this.inView,0,(this.options.reverse?0:-window.innerHeight)+"px",0);break;case A.DIR_RIGHT_TO_LEFT:this._translate(this.options.reverse?this.outView:this.inView,(this.options.reverse?0:window.innerWidth)+"px",0,0);break;case A.DIR_LEFT_TO_RIGHT:default:this._translate(this.options.reverse?this.outView:this.inView,(this.options.reverse?0:-window.innerWidth)+"px",0,0);}break;case A.TYPE_FADE:this.options.timing="linear";if(this.options.reverse){this.inView.style.opacity="1";this.outView.style.opacity="1";}else{this.inView.style.opacity="0";}setTimeout(mui.bind(function(){this._setTransitionProperties(["opacity"]);},this),0);break;case A.TYPE_PUSH:default:this.options.timing="ease-in-out";this._translate(this.inView,(this.options.reverse?-this._offsetWidth:this._offsetWidth)+"px",0,0);}};A.prototype.execute=function(){switch(this.options.type){case A.TYPE_SLIDE:setTimeout(mui.bind(function(){var B=[0,0];
switch(this.options.direction){case A.DIR_BOTTOM_TO_TOP:B=this.options.reverse?[0,window.innerHeight]:[0,0];break;case A.DIR_TOP_TO_BOTTOM:B=this.options.reverse?[0,-window.innerHeight]:[0,0];break;case A.DIR_RIGHT_TO_LEFT:B=this.options.reverse?[window.innerWidth,0]:[0,0];break;case A.DIR_LEFT_TO_RIGHT:default:B=this.options.reverse?[-window.innerWidth,0]:[0,0];break;}this._translate(this.options.reverse?this.outView:this.inView,B[0]+"px",B[1]+"px",0,this.options.duration,mui.bind(this._transitionEnd,this));},this),0);break;case A.TYPE_FLIP:setTimeout(mui.bind(function(){mui.one(this.inView,"webkitTransitionEnd",mui.bind(this._transitionEnd,this));this.outView.style.webkitTransform=this.options.reverse?"rotateY(-180deg)":"rotateY(180deg)";this.inView.style.webkitTransform="rotateY(0deg)";},this),0);break;case A.TYPE_FADE:setTimeout(mui.bind(function(){mui.one(this.inView,"webkitTransitionEnd",mui.bind(this._transitionEnd,this));if(this.options.reverse){this.outView.style.opacity="0";}else{this.inView.style.opacity="1";}},this),1);break;case A.TYPE_PUSH:default:this._translate(this.outView,(this.options.reverse?this._offsetWidth:-this._offsetWidth)+"px",0,0,this.options.duration);this._translate(this.inView,0,0,0,this.options.duration,mui.bind(this._transitionEnd,this));}this.backupTimer=setTimeout(mui.bind(this._transitionEnd,this),(this.options.duration+50));};mui.Transition=A;})();(function(){const J=400;const A=150;const H=0.98;const E=1;const K=0.7;const S=150;const D=0;const O=10;const N=0.3;const P=60*0.001;const F=100;const I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAABCAYAAAD9yd/wAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABJJREFUeNpiZGBgSGPAAgACDAAIkABoFyloZQAAAABJRU5ErkJggg==";const Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAGCAYAAAACEPQxAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABVJREFUeNpiYGBgSGMCEgzYCIAAAwALEABx0pRbLAAAAABJRU5ErkJggg==";var C=null;var B=0;var L=0;var G=null;function R(T){T=T||{};if(!T.element){throw new Error("Must pass valid 'element' to ScrollView constructor");}this.element=mui.get(T.element);this.size=T.size||"100%";this.sizes=T.sizes||null;this.axis=T.axis||"y";this.pagingEnabled=T.pagingEnabled||false;if(this.pagingEnabled){this.axis="x";}if(this.pagingEnabled&&T.paginator){this.paginator=T.paginator;}if(this.axis==="x"){this.scrollsHorizontal=true;}else{this.scrollsVertical=true;}this.showsHorizontalScrollIndicator=T.showsHorizontalScrollIndicator===false?false:true;this.showsVerticalScrollIndicator=T.showsVerticalScrollIndicator===false?false:true;this.alwaysBounceVertical=T.alwaysBounceVertical===true?true:false;this.alwaysBounceHorizontal=T.alwaysBounceHorizontal===true?true:false;this.callback=T.callback||{};this.removeEventBindingsOnDetach=T.removeEventBindingsOnDetach||false;this.initialize();}function M(V){var U=[0,0,0];var T=V.style.webkitTransform;var W=T.replace(/translate(3d)?\(/,"").split(",");if(W.length>1){U[0]=parseInt(W[0]);U[1]=parseInt(W[1]);U[2]=parseInt(W[2]);}return U;}R.prototype={handleEvent:function(T){switch(T.type){case"webkitTransitionEnd":this.onTransitionEnd(T);break;case"touchstart":case"mousedown":this.onTouchStart(T);break;case"touchmove":case"mousemove":this.onTouchMove(T);break;case"touchend":case"mouseup":this.onTouchEnd(T);break;case"click":this.onClick(T);break;}},_calculatePageOffsets:function(){var U=this.element,W=this.paginator.pageSelector,T,V=[];T=W?mui.getAll(W,U):U.children;mui.each(T,function(Y,X){Y.style.width=this.size+"px";V.push(Y.offsetLeft);},this);this._minPoints=V;if(this._minPoints.length===1){this._minPoints.push(this._minPoints[this._minPoints.length-1]);}this.touchInfo.minPosX=-this._minPoints[this.paginator.currentPage-2];this.touchInfo.maxPosX=-this._minPoints[this.paginator.currentPage-1];},setSize:function(T){this.size=T;if(this.axis==="x"){this.element.style.width=this.size+"px";}else{if(this.axis==="y"){this.element.style.height=this.size+"px";}}},retrieveSize:function(){if(!this.autoresize&&!this.sizes){return false;}if(!this.sizes){if(this.element.parentNode){if(this.axis==="y"){this.size=this.element.parentNode.offsetHeight;if(this.size==0){this.adjustSize();}}else{this.size=this.element.parentNode.offsetWidth;if(this.size==0){this.adjustSize();}}}else{this.size=(this.axis==="x")?window.innerWidth:window.innerHeight;}}else{this.size=(window.innerWidth>=1024)?this.sizes.landscape:this.sizes.portrait;}if(this.axis==="x"){this.element.style.width=this.size+"px";}else{this.element.style.height=this.size+"px";}if(this.pagingEnabled){this._minPoints=null;this._calculatePageOffsets();this.scrollTo(this.touchInfo.maxPosX,this.touchInfo.translations[1].y);}},adjustSize:function(){var U=this.element.parentNode.cloneNode(true),T=document.body.className;U.style.display="block";document.body.className="";document.body.appendChild(U);if(this.axis==="x"){this.element.style.width="";this.size=U.offsetWidth;}else{if(this.axis==="y"){this.element.style.height="";this.size=U.offsetHeight;}}document.body.removeChild(U);if(T){document.body.className=T;}},onOrientationChange:function(){if(!this.autoresize&&!this.sizes){return false;}if(this.axis==="x"){this.element.style.width="";}else{if(this.axis==="y"){this.element.style.height="";}}this.retrieveSize();},onTransitionEnd:function(T){if(this.pagingEnabled){this.updatePage();}G=setTimeout(mui.bind(this.hideScrollBars,this,true),F);},onClick:function(T){if(!T._faux){T.preventDefault();T.stopPropagation();}},onTouchStart:function(U){if(!U.touches||(U.touches&&U.touches.length==1)){this.killTimer(true);this.scrollingX=false;this.scrollingY=false;var X=mui.getAncestorByClassName(U.target,"mui-scrollview-host",this.scrollHost),V=mui.getAncestorByClassName(U.target,"mui-userselect",this.scrollHost);if(X!==this.scrollHost){this.nestedScrollTarget=true;}else{this.nestedScrollTarget=false;}mui.on(document,"touchend",this,true);this.touchInfo.target=U.target;if(this.touchInfo.stopScroll){return false;}var W=U.touches?U.touches[0]:U;
this.touchInfo.startTime=(new Date()).getTime();this.touchInfo.pageX=W.clientX;this.touchInfo.pageY=W.clientY;this.touchInfo.startClientPosX=W.clientX;this.touchInfo.startClientPosY=W.clientY;this.touchInfo.isTouching=false;this.touchInfo.isDragging=false;if((!V||U.target.parentNode.tagName=="A")&&((!(U.target instanceof HTMLInputElement)&&!(U.target instanceof HTMLTextAreaElement))||(U.target.getAttribute&&U.target.getAttribute("type")=="checkbox"))){U.preventDefault();}var T=this.touchInfo.target;while(T&&!(T instanceof HTMLAnchorElement)){T=T.parentElement;}if(T&&T.getAttribute("rel")=="nofollow"){U.preventDefault();}mui.on(this.element,"touchmove",this);}},onTouchMove:function(d){if(this.touchInfo.stopScroll){return;}var c=(new Date()).getTime();if(c<this.touchInfo.startTime){return;}if(!this.touchInfo.isTouching&&!(d.target instanceof HTMLInputElement)&&(!d.touches||(d.touches&&d.touches.length==1))){this.killTimer(true);var Z=mui.get("header");var f=mui.get("footer");var g=this.scrollHost.scrollHeight;var a=this.scrollHost.scrollWidth;var T=mui.getStyle(this.scrollHost,"-webkit-transform").replace(")","").split(",");var b=0;var Y=0;if(T.length===1){b=Y=0;}else{if(T.length===6){b=Number(T[4]);Y=Number(T[5]);}else{b=Number(T[12]);Y=Number(T[13]);}}this.touchInfo.startPosX=this.touchInfo.startClientPosX-b;this.touchInfo.startPosY=this.touchInfo.startClientPosY-Y;this.touchInfo.isTouching=true;this.touchInfo.isDragging=false;if(this.scrollsVertical){var X=-g;this.touchInfo.maxPosY=X+this.size;if(Z){this.touchInfo.maxPosY=X+(window.innerHeight-Z.offsetHeight);}if(Z&&f){this.touchInfo.maxPosY=X+(window.innerHeight-Z.offsetHeight-f.offsetHeight);}if(Math.abs(X)<=this.touchInfo.maxPosY||this.touchInfo.maxPosY>0){this.touchInfo.maxPosY=0;}this.scrollsHorizontal=false;if(a>this.element.offsetWidth){this.scrollsHorizontal=true;if(!this.scrollBarHorizontal){this.initScrollBars();}}this.touchInfo.scrollHeight=g;}if(this.scrollsHorizontal){if(this.scrollsVertical){this.touchInfo.maxPosX=(a-this.element.offsetWidth)*-1;}else{if(this.pagingEnabled){if(!this._minPoints){this._calculatePageOffsets();}if(this._minPoints[this.paginator.currentPage-1]>=0){this.touchInfo.minScrollX=this._minPoints[this.paginator.currentPage-1];}else{this.touchInfo.minScrollX=this._minPoints[this.paginator.currentPage];}this.touchInfo.maxScrollX=this._minPoints[this.paginator.currentPage+1];}else{this.touchInfo.minPosX=0;this.touchInfo.maxPosX=(a-this.size)*-1;if(a<this.size){this.touchInfo.maxPosX=0;}}}}}if(this.touchInfo.isTouching){if(!d.touches||(d.touches&&d.touches.length===1)){var W=d.touches?d.touches[0]:d;var V=W.clientX-this.touchInfo.startPosX;var U=W.clientY-this.touchInfo.startPosY;this.touchInfo.isDragging=true;if(!this.scrollsHorizontal){V=0;}if(!this.scrollsVertical){U=0;}if(!this.scrollingX&&Math.abs(W.clientY-this.touchInfo.startClientPosY)>O){this.scrollingY=true;}else{if(!this.scrollingY&&Math.abs(W.clientX-this.touchInfo.startClientPosX)>O){this.scrollingX=true;}}d.preventDefault();if(!(this.scrollsHorizontal&&this.scrollsVertical)&&((!this.scrollingY&&this.scrollsVertical)||(!this.scrollingX&&this.scrollsHorizontal))){return false;}if(this.touchInfo.scrollHeight<this.size){return false;}if(this.scrollsVertical){if(U>0){U*=N;}else{if(U<this.touchInfo.maxPosY){U-=2*((U-this.touchInfo.maxPosY)*N);}}}if(this.scrollsHorizontal){if(V>0){V*=N;}else{if(V<this.touchInfo.maxPosX){V-=((V-this.touchInfo.maxPosX)*N);}}}if(this.scrollsVertical&&this.scrollsHorizontal){if(this.nestedScrollTarget){return;}if(Math.abs(W.clientX-this.touchInfo.startClientPosX)<=10){this.touchInfo.lockToAxis="y";}else{if(Math.abs(W.clientY-this.touchInfo.startClientPosY)<=10){this.touchInfo.lockToAxis="x";}}if(this.touchInfo.lockToAxis==="y"){V=this.touchInfo.translations[1].x;}else{if(this.touchInfo.lockToAxis="x"){U=this.touchInfo.translations[1].y;}}if(V>0){V=0;}else{if(V<this.touchInfo.maxPosX){V=this.touchInfo.maxPosX;}}}this.touchInfo.endClientPosX=W.clientX;this.touchInfo.endClientPosY=W.clientY;this.touchInfo.lastMoved=(new Date()).getTime();this.scrollTo(V,U,0);}}},onTouchEnd:function(Y){mui.removeEventListener(this.element,"touchmove",this);setTimeout(mui.bind(function(){mui.removeEventListener(document,"touchend",this,true);},this),0);if(!this.touchInfo.isDragging){if(this.nestedScrollTarget){return;}var W=document.createEvent("MouseEvent");W._faux=true;W.initMouseEvent("click",true,true,document.defaultView,0,0,0,0,0,0,0,0,0,0,0,null);this.touchInfo.target.dispatchEvent(W);G=setTimeout(mui.bind(this.hideScrollBars,this,true),F);this.touchInfo.lockToAxis=null;return;}if(!this.pagingEnabled&&(+(new Date)-this.touchInfo.lastMoved>75||(this.scrollingY&&Math.abs(this.touchInfo.translations[1].y-this.touchInfo.translations[0].y)<=O)||(this.scrollingX&&Math.abs(this.touchInfo.translations[1].x-this.touchInfo.translations[0].x)<=O))){if(this.scrollsVertical&&this.touchInfo.translations[1].y>0){this.scrollTo(this.touchInfo.translations[1].x,0,300);}else{if(this.scrollsVertical&&this.touchInfo.translations[1].y<this.touchInfo.maxPosY){this.scrollTo(this.touchInfo.translations[1].x,this.touchInfo.maxPosY,300);}else{if(this.scrollsHorizontal&&this.touchInfo.translations[1].x>0){this.scrollTo(0,this.touchInfo.translations[1].y,300);}else{if(this.scrollsHorizontal&&this.touchInfo.translations[1].x<this.touchInfo.maxPosX){this.scrollTo(this.touchInfo.maxPosX,this.touchInfo.translations[1].y,300);}}}}G=setTimeout(mui.bind(this.hideScrollBars,this,true),F);this.touchInfo.lockToAxis=null;return;}if(this.scrollsVertical&&this.touchInfo.lockToAxis==="x"){this.touchInfo.lockToAxis=null;return;}var V=this.touchInfo.translations[1];var U=this.scrollsVertical?this.touchInfo.startClientPosY:this.touchInfo.startClientPosX;var T=this.scrollsVertical?Y.clientY:Y.clientX;var Z=U-T;var X=+(new Date)-this.touchInfo.startTime;B=Z/X;L=B;this.decelerationConst=H;if(this.pagingEnabled){this.decelerationConst=E;if(B>0){if(this.paginator.currentPage<=this.paginator.pages-1){this.nextPage();
}else{this.scrollTo(this.touchInfo.maxPosX,this.touchInfo.translations[1].y,400,"ease-out");}}else{if(this.paginator.currentPage>1){this.prevPage();}else{this.scrollTo(0,this.touchInfo.translations[1].y,400,"ease-out");}}return;}C=setInterval(mui.bind(this.animateScroll,this),P);this.touchInfo.lockToAxis=null;},animateScroll:function(){var V=false;var a;var Y={x:this.touchInfo.translations[1].x,y:this.touchInfo.translations[1].y};var Z=this.scrollsVertical?this.touchInfo.translations[1].y:this.touchInfo.translations[1].x;var U=this.scrollsVertical?this.touchInfo.maxPosY:this.touchInfo.maxPosX;var T=this.scrollsVertical?this.touchInfo.minPosY:this.touchInfo.minPosX;var W=(this.pagingEnabled)?D:S;var X=(this.pagingEnabled)?A:J;B*=this.decelerationConst;a=B*P*X;if(this.scrollsVertical){Y.y-=Math.floor(a);}else{if(this.scrollsHorizontal){Y.x-=Math.floor(a);}}if(this.scrollsVertical&&Y.y>0){B*=K;if(!this._didScrollPastLowerBoundary){this._didScrollPastLowerBoundary=true;}if(Y.y>W){V=true;this.killTimer();Y.y=W;}}else{if(this.scrollsHorizontal&&Y.x>0){B*=K;if(!this._didScrollPastLowerBoundary){this._didScrollPastLowerBoundary=true;}if(Y.x>W){V=true;this.killTimer();Y.x=W;}}else{if(this.scrollsVertical&&Y.y<U){B*=K;if(!this._didScrollPastUpperBoundary){this._didScrollPastUpperBoundary=true;}if(Y.y<(this.touchInfo.maxPosY-W)){V=true;this.killTimer();Y.y=this.touchInfo.maxPosY-W;}}else{if(this.scrollsHorizontal&&Y.x<U){B*=K;if(!this._didScrollPastUpperBoundary){this._didScrollPastUpperBoundary=true;}if(Y.x<(this.touchInfo.maxPosX-W)){V=true;this.killTimer();Y.x=this.touchInfo.maxPosX-W;}}}}}if(Math.abs(B.toFixed(4))<0.015){V=true;B=0;this.killTimer();}if(!V){this.scrollTo(Y.x,Y.y,0);}},killTimer:function(U){var T={x:this.touchInfo.translations[1].x,y:this.touchInfo.translations[1].y};clearInterval(C);if(this._didScrollPastLowerBoundary){if(this.scrollsVertical){T.y=0;}if(this.scrollsHorizontal&&!this.scrollsVertical){T.x=0;}this.scrollTo(T.x,T.y,400,"ease-out");this._didScrollPastLowerBoundary=false;}else{if(this._didScrollPastUpperBoundary){if(this.scrollsVertical){T.y=this.touchInfo.maxPosY;}if(this.scrollsHorizontal&&!this.scrollsVertical){T.x=this.touchInfo.maxPosX;}this.scrollTo(T.x,T.y,400,"ease-out");this._didScrollPastUpperBoundary=false;}else{if(this.pagingEnabled&&!U){this.updatePage();}G=setTimeout(mui.bind(this.hideScrollBars,this,true),F);}}},updatePage:function(){if(this.paginator.element){for(var T=0;T<this.paginator.pages;T++){var U=this.paginator.element.children[T];if(T===this.paginator.currentPage-1){mui.addClass(U,"mui-active");}else{mui.removeClass(U,"mui-active");}}}if(this.paginator.callback&&this.paginator.callback.pageChange){this.paginator.callback.pageChange(this.paginator.currentPage);}},nextPage:function(T){var U=(T===false)?0:400;if(this.paginator.currentPage>=this.paginator.pages){return false;}this.paginator.currentPage++;if(!this._minPoints){this._calculatePageOffsets();}this.touchInfo.minPosX=-this._minPoints[this.paginator.currentPage-2];this.touchInfo.maxPosX=-this._minPoints[this.paginator.currentPage-1];this.scrollTo(this.touchInfo.maxPosX,this.touchInfo.translations[1].y,U,"ease-out");if(!U){this.updatePage();}},prevPage:function(T){var U=(T===false)?0:400;if(this.paginator.currentPage<=1){return false;}this.paginator.currentPage--;if(!this._minPoints){this._calculatePageOffsets();}this.touchInfo.minPosX=-this._minPoints[this.paginator.currentPage];this.touchInfo.maxPosX=-this._minPoints[this.paginator.currentPage-1];this.scrollTo(this.touchInfo.maxPosX,this.touchInfo.translations[1].y,U,"ease-out");if(!U){this.updatePage();}},scrollTo:function(T,Y,V,W,U){var X="translate("+T+"px, "+Y+"px)";if(mui.UA.Safari){X="translate3d("+T+"px,"+Y+"px,0)";}clearTimeout(G);if(!U){this.showScrollBars();}this.touchInfo.translations.splice(0,1);this.touchInfo.translations.push({x:T,y:Y});W=W||"cubic-bezier(0, 0.1, 0, 1.0)";V=V||0;if(V==0){mui.setStyle(this.scrollHost,"-webkit-transition-timing-function",null);mui.setStyle(this.scrollHost,"-webkit-transition-duration",null);}else{mui.setStyle(this.scrollHost,"-webkit-transition-timing-function",W);mui.setStyle(this.scrollHost,"-webkit-transition-duration",V+"ms");}mui.setStyle(this.scrollHost,"-webkit-transform",X);if(!U){this.updateScrollBars(V);}if(typeof this.callback.scroll==="function"){this.callback.scroll(T,Y);}},lockScroll:function(){this.touchInfo.stopScroll=true;},unlockScroll:function(){this.touchInfo.stopScroll=false;},isLocked:function(){return this.touchInfo.stopScroll;},getElement:function(){return this.element;},getScrollHost:function(){return this.scrollHost;},getScrollOffsets:function(){var T={x:0,y:0};var U=M(this.scrollHost);T.x=U[0];T.y=U[1];return T;},renderTexture:function(){var Y=0;var T=this.scrollHost.scrollHeight;var X=this.scrollHost;var V=window.innerWidth-1;var U=M(X)[1];X.style.width=window.innerWidth+"px";X.style.webkitTransitionDuration="0s";X.style.webkitTransform="translate3d(-"+V+"px, "+U+"px, 0)";var W=setInterval(function(){Y+=window.innerHeight;X.style.webkitTransform="translate3d(-"+V+"px, -"+Y+"px, 0)";if(Y>=T){clearInterval(W);X.style.webkitTransitionDuration="";X.style.webkitTransform="translate3d(0, "+U+"px, 0)";X.style.width="";}},0);},updateScrollBars:function(X){var W=0;var Y=1;var U;var V=this.scrollHost.scrollHeight;var T=this.scrollHost.scrollWidth;if(!this._showingScrollBars){this.showScrollBars();}if(this.scrollBarVertical&&V<=this.size){this.hideScrollBars();return;}if(this.scrollBarVertical){W=Math.floor(this.size*(this.size/V));Y=Math.floor((this.touchInfo.translations[1].y/(V-this.size))*(this.size-W))*-1;if(W>this.size){W=1;}U="translate3d(0, "+Y+"px, 0)";if(Y>(this.size-W)){W=W-(Y-(this.size-W));}if(Y<0){U="translate3d(0,0,0)";W=W+Y;}X=X||0;if(this.verticalScrollSize!=(W-8)){this.verticalScrollSize=(W-8);mui.setStyles(this.scrollBarVertical.children[1],{"-webkit-transition-property":(X>0?"-webkit-transform":null),"-webkit-transform":"translate3d(0,0,0) scaleY("+(W-8)+")","-webkit-transition-duration":(X>0?X+"ms":null)});
}mui.setStyles(this.scrollBarVertical,{"-webkit-transition-property":(X>0?"-webkit-transform":null),"-webkit-transform":U,"-webkit-transition-duration":(X>0?X+"ms":null)});mui.setStyles(this.scrollBarVertical.children[2],{"-webkit-transition-property":(X>0?"-webkit-transform":null),"-webkit-transform":"translate3d(0,"+(W-10)+"px,0)","-webkit-transition-duration":(X>0?X+"ms":null)});}if(this.scrollBarHorizontal){W=Math.floor(this.size*(this.size/T));Y=Math.floor((this.touchInfo.translations[1].x/(T-this.size))*(this.size-W))*-1;if(W>this.size){W=1;}U="translate3d("+Y+"px, 0, 0)";if(Y>(this.size-W)){W=W-(Y-(this.size-W));}if(Y<0){U="translate3d(0,0,0)";W=W+Y;}X=X||0;if(this.horizontalScrollSize!=(W-16)){this.horizontalScrollSize=(W-16);mui.setStyles(this.scrollBarHorizontal.children[1],{"-webkit-transition-property":(X>0?"-webkit-transform":null),"-webkit-transform":"translate3d(0,0,0) scaleX("+this.horizontalScrollSize+")","-webkit-transition-duration":(X>0?X+"ms":null)});}mui.setStyles(this.scrollBarHorizontal,{"-webkit-transition-property":(X>0?"-webkit-transform":null),"-webkit-transform":U,"-webkit-transition-duration":X+"ms"});mui.setStyles(this.scrollBarHorizontal.children[2],{"-webkit-transition-property":(X>0?"-webkit-transform":null),"-webkit-transform":"translate3d("+(W-12)+"px,0,0)","-webkit-transition-duration":(X>0?X+"ms":null)});}},hideScrollBars:function(T){this._showingScrollBars=false;if(T&&this.scrollBarVertical){mui.setStyle(this.scrollBarVertical,"-webkit-transition","opacity .6s");}if(T&&this.scrollBarHorizontal){mui.setStyle(this.scrollBarHorizontal,"-webkit-transition","opacity .6s");}if(this.scrollBarVertical){mui.removeClass(this.scrollBarVertical,"mui-showing");}if(this.scrollBarHorizontal){mui.removeClass(this.scrollBarHorizontal,"mui-showing");}},showScrollBars:function(T){this._showingScrollBars=true;if(T&&this.scrollBarVertical){mui.setStyle(this.scrollBarVertical,"-webkit-transition","opacity .6s");}if(T&&this.scrollBarHorizontal){mui.setStyle(this.scrollBarHorizontal,"-webkit-transition","opacity .6s");}if(this.scrollBarVertical){mui.addClass(this.scrollBarVertical,"mui-showing");}if(this.scrollBarHorizontal){mui.addClass(this.scrollBarHorizontal,"mui-showing");}},flashScrollBars:function(){if(this.scrollBarVertical&&this.scrollHost.scrollHeight>this.size){if(!this._flashedScrollBars){this._flashedScrollBars=true;this.updateScrollBars();}this.showScrollBars(true);setTimeout(mui.bind(this.hideScrollBars,this),800);}},initScrollBars:function(){if(!this._initializedScrollBars){this._initializedScrollBars=true;}if(this.showsVerticalScrollIndicator&&this.scrollsVertical&&!this.scrollBarVertical){this.scrollBarVertical=mui.createElement("div",{className:"mui-scrollbar mui-vertical",innerHTML:'<b class="mui-child mui-b"></b><img class="mui-child mui-img" src="'+I+'" alt="" /><b class="mui-child mui-b"></b>'});this.wrapper.appendChild(this.scrollBarVertical);}if(this.showsHorizontalScrollIndicator&&this.scrollsHorizontal&&!this.scrollBarHorizontal){this.scrollBarHorizontal=mui.createElement("div",{className:"mui-scrollbar mui-horizontal",innerHTML:'<b class="mui-child mui-b"></b><img class="mui-child mui-img" src="'+Q+'" alt="" /><b class="mui-child mui-b"></b>'});this.wrapper.appendChild(this.scrollBarHorizontal);}},initPager:function(){if(this.paginator&&this.paginator.pageSelector){var U=8;mui.each(mui.getAll(this.paginator.pageSelector,this.element),function(W){W.style.display="inline-block";W.style.width=this.size+"px";U+=this.size;if(mui.UA.Apple){W.style.webkitTransform="translate3d(0,0,0)";}},this);this.scrollHost.style.width=U+"px";this.element.style.whiteSpace="nowrap";this.touchInfo.maxPos=-(U)+this.size;}if(this.paginator){this.paginator.pages=this.paginator.pages||mui.getAll(this.paginator.pageSelector,this.element).length;this.paginator.currentPage=this.paginator.currentPage||1;if(this.paginator.element){this.paginator.element=mui.get(this.paginator.element);mui.addClass(this.paginator.element,"mui-paginator");this.paginator.element.innerHTML="";for(var T=0;T<this.paginator.pages;T++){var V=mui.createElement("span",{className:"mui-paginator-page"});if(T===this.paginator.currentPage-1){mui.addClass(V,"mui-active");}this.paginator.element.appendChild(V);}mui.on(this.paginator.element,"click",this);}}},initialize:function(){this.touchInfo={target:null,pageX:0,pageY:0,isTouching:false,isDragging:false,startPosX:0,startPosY:0,translations:[{x:0,y:0},{x:0,y:0}],lastMoved:0,maxPos:0,stopScroll:false};this.wrapper=mui.createElement("div");this.wrapper.style.position="relative";this.wrapper.style.webkitTransform="translate3d(0,0,0)";this.scrollHost=mui.createElement("div");this.scrollHost.className="mui-scrollview-host";this.wrapper.appendChild(this.scrollHost);var X=[];for(var U=0,T=this.element.childNodes.length;U<T;U++){X.push(this.element.childNodes[U]);}for(var U=0,T=X.length;U<T;U++){this.scrollHost.appendChild(X[U]);}this.element.appendChild(this.wrapper);if(this.size){if(this.size==="100%"){this.autoresize=true;mui.on(window,"orientationchange",mui.bind(this.onOrientationChange,this));if(this.element.parentNode){this.size=(this.axis==="x")?this.element.parentNode.offsetWidth:this.element.parentNode.offsetHeight;}else{this.size=(this.axis==="x")?window.innerWidth:window.innerHeight;}if(this.axis!=="x"){var V=mui.get("body > header"),W=mui.get("body > footer");if(V){this.height-=V.offsetHeight;}if(W){this.height-=W.offsetHeight;}if(this.size===0){this.size=window.innerHeight;}if(V){this.size=this.size-V.offsetHeight;}if(W){this.size=this.size-W.offsetHeight;}}}if(this.axis==="x"){this.element.style.width=this.size+"px";this.element.style.overflowX="hidden";}else{if(this.sizes){if(window.innerWidth>=1024){this.element.style.height=this.sizes.landscape+"px";this.size=this.sizes.landscape;}else{this.element.style.height=this.sizes.portrait+"px";this.size=this.sizes.portrait;}}else{this.element.style.height=this.size+"px";}this.element.style.overflowY="hidden";
}}if(this.wrapper.scrollWidth>this.element.parentNode.scrollWidth){this.scrollsHorizontal=true;}if(this.pagingEnabled){this.initPager();}if(this.showsVerticalScrollIndicator||this.showsHorizontalScrollIndicator){this.initScrollBars();}if(this.paginator&&this.paginator.currentPage>1){this.paginator.currentPage--;this.nextPage(false);}else{this.scrollTo(0,0,0);}if(this.size==0){this.adjustSize();}mui.on(this.element,"touchstart",this);mui.on(this.element,"webkitTransitionEnd",this);mui.on(this.element,"click",this,this,true);if(this.removeEventBindingsOnDetach){this.element.addEventListener("DOMNodeRemovedFromDocument",mui.bind(function(){mui.removeEventListener(this.element,"touchstart",this);mui.removeEventListener(this.element,"touchmove",this);mui.removeEventListener(document,"touchend",this,true);},this),false);}}};mui.ScrollView=R;})();(function(){function A(B){B=B||{};this.title=B.title;this.image=B.image;this.style=B.style||A.STYLE_PLAIN;this.action=B.action;this.initialize();}A.STYLE_PLAIN="plain";A.STYLE_BORDERED="bordered";A.STYLE_DONE="done";A.prototype={handleEvent:function(B){switch(B.type){case"touchstart":case"mousedown":mui.addClass(this.element,"mui-depressed");break;case"touchmove":case"mousemove":B.preventDefault();mui.removeClass(this.element,"mui-depressed");break;case"click":B.preventDefault();mui.removeClass(this.element,"mui-depressed");if(this.action){this.action();}break;}},render:function(B){B=mui.get(B)||document.body;B.appendChild(this.element);return this;},initialize:function(){this.element=mui.createElement("div",{className:"mui-btn"});if(this.style!==mui.Button.STYLE_PLAIN){switch(this.style){case mui.Button.STYLE_DONE:mui.addClass(this.element,"mui-done");break;}}this.contentEl=mui.createElement("div",{className:"mui-btn-content"});this.element.appendChild(this.contentEl);if(this.title&&!this.image){this.titleEl=mui.createElement("div",{className:"mui-title",innerHTML:this.title});this.contentEl.appendChild(this.titleEl);}else{if(this.image){this.imageEl=mui.createElement("img",{className:"mui-image",src:this.image});if(this.title){this.imageEl.setAttribute("alt",this.title);}this.contentEl.appendChild(this.imageEl);}}mui.on(this.element,"touchstart",this);mui.on(this.element,"touchmove",this);mui.on(this.element,"click",this);}};mui.Button=A;})();(function(){const A="storage";const B="array";const E="mui_default";function C(G){this.source=G.source;if(!this.source&&!G.name){throw new Error("Either source or name must be specified to uniquely identify the datasource");}this.name=G.name;if(G.onRestore){this.onRestore=G.onRestore;}if(G.cache){this.cache={};this.cache.id=G.cache.id||"mui_datacache_"+(this.source||this.name);this.cache.version=G.cache.version||"";this.cache.title=G.cache.title||"";this.cache.max=G.cache.max||10;this.cache.keepalive=G.cache.keepalive||{minutes:30};this.cache.type=(mui.Storage)?A:B;this.cache.contents=[];this.restored=true;if(this.cache.type===A){try{this.restored=false;this.cache.tableName=this.source?this.source.replace(/[\?\:\\\/\*\>\<\|\.\%\&\"]+/g,"_"):"mui_table_"+this.name;this.restoreCache();}catch(H){this.cache.storage=null;this.cache.type=B;setTimeout(mui.bind(this.onRestore,this),0);}}else{setTimeout(mui.bind(this.onRestore,this),0);}}}function F(H,I){var G=H||"";if(I){if(G!=""&&!/\?/.test(G)){G+="?";}G+=I;}return G;}function D(K,I){var G=false,H=K,J=+(new Date);mui.iterate(I,function(L,M){switch(M){case"days":H+=86400*L*1000;break;case"hours":H+=3600*L*1000;break;case"minutes":H+=60*L*1000;break;case"seconds":H+=L*1000;break;}});if(J>H){G=true;}return G;}C.prototype={onRestore:function(){},sendRequest:function(H,I){var G=this.getCachedEntry(H);if(G){I.success.apply(I.scope||I.success,[G.response,I.argument]);return;}mui.io(F(this.source,H),{callback:{success:function(J){this.onSendSuccess(H,J.responseText);I.success.apply(I.scope||I.success,[J.responseText,I.argument]);},failure:function(J){this.onSendFailure(J);if(I.failure){I.failure.apply(I.scope||I.failure,[J,I.argument]);}},scope:this}});},onSendSuccess:function(H,G){if(this.cache){this.addToCache(H,G);}},onSendFailure:function(G){},addToCache:function(J,H){J=J||E;var I=[];var G={request:J,response:H,timestamp:+(new Date)};while(this.cache.contents.length>=this.cache.max){I.push(this.cache.contents.shift());}this.cache.contents.push(G);if(this.cache.storage){this.cache.storage.transaction(mui.bind(function(K){if(I.length>0){mui.each(I,function(L){K.executeSql("DELETE FROM "+this.cache.tableName+" WHERE request = ?",[L.request]);},this);}K.executeSql("INSERT INTO "+this.cache.tableName+" (request, response, timestamp) VALUES(?, ?, ?)",[G.request,G.response,G.timestamp]);},this));}},getCachedEntry:function(J){var I,H=0,G=this.cache.contents.length,K;J=J||E;for(H;H<G;H++){K=this.cache.contents[H];if(K.request===J&&!D(K.timestamp,this.cache.keepalive)){I=K;break;}}return I;},getCache:function(){return this.cache.contents;},flushCache:function(){this.cache.contents=[];if(this.cache.storage){this.cache.storage.transaction(mui.bind(function(G){G.executeSql("DROP TABLE "+this.cache.tableName,[],mui.bind(this.restoreCache,this));},this));}},restoreCache:function(){var G=this;this.cache.contents=[];this.cache.storage=mui.Storage.open(this.cache.id,this.cache.version,this.cache.title);this.cache.storage.transaction(mui.bind(function(H){H.executeSql("CREATE TABLE IF NOT EXISTS "+this.cache.tableName+" (request VARCHAR(32) PRIMARY KEY, response TEXT, timestamp INT)",[],mui.bind(function(I){I.executeSql("SELECT * FROM "+this.cache.tableName,[],mui.bind(function(K,L){if(L&&L.rows&&L.rows.length>0){for(var M=0,J=L.rows.length;M<J;M++){if(!D(L.rows.item(M).timestamp,this.cache.keepalive)){this.cache.contents.push(L.rows.item(M));}else{K.executeSql("DELETE FROM "+this.cache.tableName+" WHERE request = ?",[L.rows.item(M).request]);}}}this.restored=true;this.onRestore();},this));},this));},this));}};mui.DataSource=C;})();(function(){function A(B){this.element=B.element||mui.createElement("div",{className:"mui-popover-default"});
this.anchorElement=B.anchorElement||document.body;this.callback=B.callback||{};this.initialize();}A.prototype={isShowing:false,_documentClicked:function(B){if(this.isShowing){if(!mui.getAncestorByClassName(B.target,"mui-popover")&&!mui.getAncestorByClassName(B.target,"mui-navbar-back")){this.hide();}}},hide:function(){if(!this.isShowing){return;}this.isShowing=false;if(this.callback.popoverWillHide){this.callback.popoverWillHide();}mui.removeClass(this.boundingBox,"mui-showing");if(this.callback.popoverDidHide){this.callback.popoverDidHide();}},show:function(){if(this.isShowing){return;}this.position();if(this.callback.popoverWillShow){this.callback.popoverWillShow();}mui.addClass(this.boundingBox,"mui-showing");if(this.callback.popoverDidShow){this.callback.popoverDidShow();}setTimeout(mui.bind(function(){this.isShowing=true;},this),10);},render:function(B){B=B||document.body;if(this.callback.popoverWillRender){this.callback.popoverWillRender();}this.contentBox.appendChild(this.element);B.appendChild(this.boundingBox);if(this.callback.popoverDidRender){this.callback.popoverDidRender();}},position:function(){var C=mui.getXY(this.anchorElement);var B=this.anchorElement.offsetHeight;this.boundingBox.style.left=C[0]+"px";this.boundingBox.style.top=(C[1]+B)+"px";},initialize:function(){this.boundingBox=mui.createElement("div",{className:"mui-popover"});this.contentBox=mui.createElement("div",{className:"mui-popover-content"});this.tip=mui.createElement("div",{className:"mui-popover-tip"});this.contentBox.appendChild(this.tip);this.boundingBox.appendChild(this.contentBox);mui.on(document,"click",mui.bind(this._documentClicked,this));}};mui.add("Popover",A);})();const MUI_DOM={loadingAttr:"x-mui-loading",viewClassName:"mui-view",viewContentClassName:"mui-view-content",viewShowingAttr:"x-mui-showing"};(function(){function C(D){if(D){this.appInfo=D;this.appInfo.transitionsEnabled=(this.appInfo.transitionsEnabled===false)?false:true;if(!mui.UA.Safari||mui.UA.Chrome){this.appInfo.transitionsEnabled=false;}if(mui.UA.Chrome&&this.appInfo.scrollViews){this.appInfo.scrollViews.chromeMode=this.appInfo.scrollViews.fullScreenMode=false;}}return this;}C.getInstance=function(){return A;};C.objectsEqual=function(F,E){var D;if(typeof F==="undefined"){F={};}if(typeof E==="undefined"){E={};}for(D in F){if(F.hasOwnProperty(D)){if(!E.hasOwnProperty(D)||E[D]!=F[D]){return false;}}}for(D in E){if(E.hasOwnProperty(D)){if(!F.hasOwnProperty(D)||F[D]!=E[D]){return false;}}}return true;};C.SPLITVIEW_LAYOUT_DEFAULT="default";C.SPLITVIEW_LAYOUT_TOP_BOTTOM="top-bottom";var B=B||document.defaultView;var A=null;C.prototype={_controllers:null,_tabView:null,_localData:{},viewportInfo:null,visibleViewController:null,popping:false,shouldScrollViews:false,_onOrientationChange:function(){var F=B.orientation,I="_willChangeOrientation",H=this.visibleViewController,E;if(typeof F=="undefined"){F=(B.innerWidth>B.innerHeight)?90:0;}if(H&&typeof H[I]=="function"){E=H.parentViewController;if(E){this.positionViewController(E);var G=E.getDetailViewController();var D=E.view.style.display;if(G&&G.view&&H.modalOpts.type==mui.ViewController.MODAL_MASTER){E.view.style.display="block";setTimeout(mui.bind(function(){if(!D){E.view.style.removeProperty("display");}else{E.view.style.display=D;}},this),300);}}H[I](F);}if(!this.viewportInfo.fullScreen){setTimeout(function(){document.body.style.minHeight=B.innerHeight+120+"px";setTimeout(function(){scrollTo(0,0);document.body.style.minHeight=B.innerHeight+"px";},0);},50);}},toggleEvents:function(D,E){if(D){if(D.touchesBegan){mui.removeEventListener(D.view,"touchstart",D.touchesBegan,D);}if(D.touchesMoved){mui.removeEventListener(D.view,"touchmove",D.touchesMoved,D);}if(D.touchesEnded){mui.removeEventListener(D.view,"touchend",D.touchesEnded,D);}if(D.clicked){mui.removeEventListener(D.view,"click",D.clicked,D);}}if(E){if(E.touchesBegan){mui.on(E.view,"touchstart",E.touchesBegan,E);}if(E.touchesMoved){mui.on(E.view,"touchmove",E.touchesMoved,E);}if(E.touchesEnded){mui.on(E.view,"touchend",E.touchesEnded,E);}if(E.clicked){mui.on(E.view,"click",E.clicked,E);}}},_transitionEnd:function(F,E){var G=F.view;this.animating=false;if(G.getAttribute(MUI_DOM.viewShowingAttr)!="true"){return;}G.style.minHeight="";E.disappear();E._viewDidDisappear();F._viewDidAppear();this.visibleViewController=F;if(this._viewControllerQueue&&this._viewControllerQueue.length>0){var D=this._viewControllerQueue.shift();this.showViewControllerWithTransition(D.viewController,D.transition,D.reverse);}if(this._showingModalViewController){this._didPresentModalViewController=true;}},_urlChanged:function(F,I,K,Q,L,D){Q=(this._showingModalViewController instanceof mui.NavigationController)?this._showingModalViewController:Q;I=I||{};var P=false,M=false,H,N,E=Q.getViewController(L),G=this.visibleViewController;if(E==-1){if(this._didPresentModalViewController&&G.navigationController==Q&&G.parentViewController){G.parentViewController.dismissModalViewController();}return;}if(this._didPresentModalViewController&&this._showingModalViewController&&G.navigationController!=Q&&G.parentViewController){G.parentViewController.dismissModalViewController();return;}if(this._didPresentModalViewController&&!this._showingModalViewController&&E.parentViewController){E.parentViewController.presentModalViewController(E,I,true,E.modalOpts);return;}if(E["isDetailViewController"]&&E.isDetailViewController()){return this._urlChangedForSplitViews(E,I,true);}E.navigationController=Q;if(!E.isViewLoaded()){E.loadView(I);}else{if(!E.isViewLoadedWithParams(I)||(!this.popping&&E.reloadOnPush)){if(E.scrollView){E.scrollView.scrollTo(0,0);}E.reloadView(I);}}if(K&&Q.stack.length>1&&this.visibleViewController.NAME!==E.NAME){this.popping=true;Q.popViewController(true);}if(E.requires){E.navigationController.requireViewControllers(E.requires);}if(this.visibleViewController&&this.visibleViewController.navigationController.NAME===Q.NAME&&this.visibleViewController.NAME!==E.NAME){P=true;}else{if(this.visibleViewController&&!this._showingModalViewController){this.visibleViewController.navigationController.hideNavigationBar();
H=this._controllers.indexOf(Q);if(this._tabView&&this._tabView.activeIndex!==H){this._tabView.activateTabAtIndex(H);}}else{if(!this.visibleViewController&&this._tabView){this._tabView.activateTabAtIndex(this._controllers.indexOf(Q));}}}this.toggleEvents(this.visibleViewController,E);this.positionViewController(E);if(!this.popping){Q.pushViewController(E,I,true);}if(this.popping){M=true;}if(this.visibleViewController){this.visibleViewController.scrollY=B.scrollY;}if(this._showingModalViewController&&this._modalTransition){E.params=I;N=!this._didPresentModalViewController?this._modalTransition:E.getTransition();var O=!this._didPresentModalViewController;E.parentViewController=this._showingModalViewController.parentViewController;this.showViewControllerWithTransition(E,N,M,O);}else{N=this.popping?Q.poppedStack[Q.poppedStack.length-1].viewController.getTransition():E.getTransition();if(this.appInfo.transitionsEnabled&&(!E["isMasterViewController"]||(E.isMasterViewController()==null))&&P&&typeof mui.Transition!=="undefined"){E.params=I;this.showViewControllerWithTransition(E,N,M);}else{this.showViewController(E,I);}}var J=mui.getAll(".mui-selected",E.view);if(J.length>0){mui.each(J,function(R){setTimeout(mui.removeClass,400,R,"mui-selected");});}if(this.appInfo.splitViews&&!this._restoringDetailViewController){this._urlChangedForSplitViews(E,I);}this._restoringDetailViewController=false;if(this.appInfo.splitViews&&!this._splitViewDidInitialize){this._splitViewDidInitialize=true;this._onOrientationChange();}},_urlChangedForSplitViews:function(F,H,D){var G=D?F:F.getDetailViewController();if(!G){return;}H=H||{};var E={};E.navigationController=F.navigationController;E.viewController=F;E.params=H;if(!D&&G.isViewLoaded()&&!F.shouldLoadDetailViewController(E)){return;}G.params=H;if(!G.isViewLoaded()){G.loadView(H);}else{if(!G.isViewLoadedWithParams(H)){if(G.scrollView){G.scrollView.scrollTo(0,0);}G.reloadView(H);}}this.toggleEvents(this.visibleDetailViewController,G);if(!this.popping&&G.navigationController){G.navigationController.pushViewController(G,H,true);}G._viewWillAppear();G.appear();G._viewDidAppear();this.visibleDetailViewController=G;},_tabChanged:function(F){var D=this._controllers[F];if(D){scrollTo(0,mui.getXY(this._tabView.element)[1]);document.body.style.minHeight="10000px";setTimeout(mui.setStyle,10,document.body,"minHeight",B.innerHeight+"px");var E=D.getLastUrl();this.openUrl(E);}},_tabRefreshed:function(E){var D=this._controllers[E];if(D){D.popToRootViewController();}},positionViewController:function(E){if((mui.UA.tablet)&&this.appInfo.splitViews&&!this.appInfo.splitViews.hidesMasterViewInPortrait){document.body.setAttribute("orient","landscape");}else{document.body.setAttribute("orient",B.innerWidth>B.innerHeight?"landscape":"portrait");}E=E||this.visibleViewController;if(E instanceof mui.ViewController){var P=E.navigationController,O=E.view,F=mui.get(".mui-navbar[x-mui-showing=true]"+(P?('[x-mui-controller="'+P.NAME+'"]'):"")),I=F?F.offsetHeight:0,H=mui.get("body > header"),G=(H?H.offsetHeight:0),K=mui.get("body > footer"),J=(K?K.offsetHeight:0),L=parseInt(B.innerHeight-J-G),N,D,M;if(this.shouldScrollViews||B.scrollY==0){scrollTo(0,0);}if(this.appInfo.splitViews){this.positionSplitViews(E);}if(!this.appInfo.splitViews){O.style.minHeight=L+"px";}document.body.style.minHeight=B.innerHeight+"px";if(this.shouldScrollViews&&(!E.scrollView||(E.scrollView&&!E.scrollView.isLocked()))){O.style.maxHeight=L+"px";document.body.style.maxHeight=B.innerHeight+"px";}if(E.scrollView){N=E.scrollView.getScrollHost();mui.setStyle(N,"min-height",L+"px");if(E.scrollView.touchInfo.translations&&E.scrollView.touchInfo.translations[1]){D=E.scrollView.touchInfo.translations[1].y;M=N.offsetHeight;if(M&&(D+M)<(L/2)){D=L-M;E.scrollView.scrollTo(0,D);}}}}return this;},positionSplitViews:function(D){var F=D.isMasterViewController()?D:D.masterViewController;var E=F?F.getDetailViewController():D;if(F&&!F.renderingContext){F.updateLayout();}if(E&&!E.renderingContext){E.updateLayout();}},showViewController:function(G,H){var I=this.visibleViewController,D=I?I.navigationController:null,F=G.navigationController,E;this.animating=false;if(I){I._viewWillDisappear(this.popping);I.disappear();I._viewDidDisappear();if(D.detailViewController&&D.NAME!=F.NAME){E=D.detailViewController.getTopViewController();if(E._showing){E._viewWillDisappear(this.popping);E.disappear();E._viewDidDisappear();}}}G.params=H;G._viewWillAppear();G.appear();G._viewDidAppear();if(D&&F.detailViewController&&D.NAME!=F.NAME){E=F.detailViewController.getTopViewController();E._viewWillAppear();E.appear();E._viewDidAppear();}this.visibleViewController=G;this.popping=false;},showViewControllerWithTransition:function(D,H,G,K){if(this.animating){this._viewControllerQueue=this._viewControllerQueue||[];this._viewControllerQueue.push({viewController:D,transition:H,reverse:G});return false;}var M,N,F,L,J,E;J=D.view;E=this.visibleViewController.view;N=mui.augment({},H);N.reverse=G;N.onComplete=mui.bind(this._transitionEnd,this,D,this.visibleViewController);if(K){N.fullscreen=true;if(mui.UA.tablet&&D.modalOpts&&D.modalOpts.type){if(D.modalOpts.type==mui.ViewController.MODAL_FULL){N.fullscreen=true;}else{N.fullscreen=false;}}var I=mui.createElement("div",{id:"mui-modal-views"});J=mui.createElement("div",{id:"mui-modal-in"});if(D.navigationController&&D.navigationController.navigationBar){J.appendChild(D.navigationController.navigationBar.element);}I.appendChild(D.view);J.appendChild(I);E=this.visibleViewController.view;document.body.appendChild(J);}else{if(this._showingModalViewController){mui.get("#mui-modal-views").appendChild(J);}}this.animating=true;F=mui.get(".mui-navbar[x-mui-showing=true]");if(this._tabView){L=mui.getXY(this._tabView.element)[1];}else{if(F){L=mui.getXY(F)[1];}else{L=0;}}if(D.scrollY&&D.scrollY>mui.getXY(D.view)[1]){L=D.scrollY;}if(L>this.visibleViewController.view.offsetHeight){this.visibleViewController.view.style.minHeight=L+"px";}if(!this.shouldScrollViews){setTimeout(scrollTo,0,0,L);
}M=new mui.Transition(J,E,N);if(K){E.style.display="none";}this.visibleViewController._viewWillDisappear(this.popping);D._viewWillAppear();D.appear();mui.bind(M.execute,M)();this.popping=false;},showModalViewController:function(F,I,G,E){var H={type:mui.Transition.TYPE_SLIDE,direction:mui.Transition.DIR_BOTTOM_TO_TOP};var D=F;if(E===false){H.duration=0;}F.parentViewController=G;this._showingModalViewController=F;this._didPresentModalViewController=false;if(F.transition){H=F.transition;}this._modalTransition=H;if(F instanceof mui.NavigationController){F.getTopViewController().navigationController=F;F=F.getTopViewController();F.parentViewController=G;F.modalOpts=F.navigationController.modalOpts;delete F.navigationController.modalOpts;this.openViewController(F,I);}else{F.params=I;if(!F.isViewLoadedWithParams(I)){F.loadView(I);}this.toggleEvents(G,F);this.showViewControllerWithTransition(F,H,false,true);}},dismissModalViewController:function(G){var F,D;var I=this._modalTransition;var H=this._showingModalViewController;I.reverse=true;I.onComplete=mui.bind(function(){var J=mui.getAll("#mui-modal-views .mui-view");mui.each(J,function(K){mui.get("#mui-views").appendChild(K);});mui.removeElement("#mui-modal-in");this._showingModalViewController=null;this._modalTransition=null;this.toggleEvents(H,G);this._transitionEnd(G,H);this.openViewController(G,G.params,true);H.parentViewController=null;},this);F=document.body;D=mui.get("#mui-modal-in");if(this._showingModalViewController instanceof mui.NavigationController){H=this._showingModalViewController.getTopViewController();}var E=new mui.Transition(F,D,I);if(G.view){G.view.style.removeProperty("display");}G._viewWillAppear();G.appear();H._viewWillDisappear(true);setTimeout(mui.bind(E.execute,E),0);},setTabsElement:function(D){if(typeof mui.TabView!=="undefined"){this._tabView=new mui.TabView(D);this._tabView.tabChanged=mui.bind(this._tabChanged,this);this._tabView.tabRefreshed=mui.bind(this._tabRefreshed,this);}},registerController:function(D){this._controllers=this._controllers||[];this._controllers.push(D);mui.each(D.viewControllers,function(E){var F=E.NAME||E.prototype.NAME;var G=D.NAME+"/"+F;this.navigator.mapUrl(G,mui.bind(this._urlChanged,this,D,F));},this);D.initialize();},openUrl:function(E,D){this.navigator.openUrl.apply(this.navigator,arguments);},launchApp:function(D){this.navigator.openUrl.apply(this.navigator,[D,false,true]);},openViewController:function(F,G,E){var D="/";if(F.navigationController){D+=F.navigationController.NAME+"/";}D+=F.NAME;if(G){D+="?";mui.iterate(G,function(H,I){D+=[I,H].join("=");D+="&";});D=D.substr(0,D.length-1);}this.openUrl(D,E);},getController:function(D){var E=null;mui.each(this._controllers,function(F){if(F.NAME===D){E=F;}},this);return E;},getData:function(D){if(this._localData[D]){return this._localData[D];}if(B.localStorage){this._localData=B.localStorage.getItem("mui_data");if(this._localData){this._localData=JSON.parse(this._localData);}else{this._localData={};}}return this._localData[D];},setData:function(E,D){this._localData[E]=D;if(B.localStorage){B.localStorage.removeItem("mui_data");B.localStorage.setItem("mui_data",JSON.stringify(this._localData));}},restore:function(G){function E(){var M=A.getData("mui_controllers")||{},J,K=0,I,L,H;mui.iterate(M,function(N){L=A.getController(N.nav_controller);if(L){H=N.stack;if(A.appInfo.persistenceMode==="top"){H=[H[0]];}mui.each(H,function(O){if(O.timestamp>=K&&(!L["isDetailViewController"]||!L.isDetailViewController())){K=O.timestamp;J=N.nav_controller;}});L.restoreStack(H);}});if(J){L=A.getController(J);I=L.getLastUrl();A._restoringDetailViewController=typeof L.detailViewController!=="undefined";if(I==G){A.launchApp(G);}else{A.openUrl(I);}if(L.detailViewController){L.restoreDetailViewController();}}else{A.launchApp(G);}}if(B.localStorage){if(this.appInfo.persistenceMode!=="none"){var F=this.getData("mui_config")||{};var D=F["version"];if(!D||D!==this.appInfo.version){F["version"]=this.appInfo.version;this.setData("mui_config",F);if(D&&D!==this.appInfo.version){this.launchApp(G);}else{E();}}else{E();}}else{this.launchApp(G);}}else{this.launchApp(G);}return this;},handleEvent:function(D){switch(D.type){case"touchstart":case"mousedown":this._selectable=mui.getAncestorByClassName(D.target,"mui-selectable");if(this._selectable&&!(D.target instanceof HTMLInputElement)){this._selectablePid=setTimeout(mui.addClass,(mui.UA.Android?0:100),this._selectable,"mui-selected");}break;case"touchmove":case"mousemove":if(this._selectable){clearTimeout(this._selectablePid);mui.removeClass(this._selectable,"mui-selected");}this._selectable=null;break;case"resize":if(D.target===B){document.body.style.minHeight=B.innerHeight+"px";this.positionViewController();}break;case"orientationchange":this._onOrientationChange();break;}},initialize:function(){if(A!==null){throw new Error("Only one instance of mui.ApplicationController allowed.");}A=this;this.navigator=new mui.Navigator();mui.on(document,"touchstart",this);mui.on(document,"touchmove",this);mui.on(document,"click",this);mui.on(B,"resize",this);mui.on(B,"orientationchange",this);document.body.style.height="10000px";setTimeout(mui.bind(function(){scrollTo(0,1);scrollTo(0,0);document.body.style.minHeight=B.innerHeight+"px";document.body.style.height="";var D=document.createElement("input");document.body.appendChild(D);D.focus();document.body.removeChild(D);this.viewportInfo={fullScreen:false};if(mui.UA.Safari&&B.navigator.standalone){this.viewportInfo.fullScreen=true;}if(mui.ScrollView&&this.appInfo.scrollViews){if(this.viewportInfo.fullScreen&&this.appInfo.scrollViews.fullScreenMode===true){this.shouldScrollViews=true;}else{if(!this.viewportInfo.fullScreen&&this.appInfo.scrollViews.chromeMode===true){this.shouldScrollViews=true;}}}if(this.viewportInfo.fullScreen||(this.shouldScrollViews)){document.body.parentNode.setAttribute("x-mui-full-screen","true");mui.addClass(document.body,"mui-full-screen");}if(mui.Storage&&this.appInfo.storageEnabled===true){this.storage=mui.Storage.open(this.appInfo.id,this.appInfo.version,this.appInfo.title);
}if(this.appInfo.tabs&&this.appInfo.tabs.element){this.setTabsElement(this.appInfo.tabs.element);if(this.appInfo.tabs.moveToFooterInFullScreen&&this.viewportInfo.fullScreen){if(!mui.get("footer")){document.body.appendChild(document.createElement("footer"));}mui.get("footer").appendChild(this._tabView.element);}}if(this.appInfo.splitViews){switch(this.appInfo.splitViews.layout){case C.SPLITVIEW_LAYOUT_TOP_BOTTOM:mui.addClass(document.body,"mui-splitview-2");break;case C.SPLITVIEW_LAYOUT_DEFAULT:default:mui.addClass(document.body,"mui-splitview");break;}}document.body.removeAttribute("x-mui-loading");this.appDidFinishLaunching();this.navigator.mapUrl("*",mui.bind(this._urlChanged,this,null,null,true));},this),100);}};mui.add("ApplicationController",C);})();(function(){function A(B){mui.iterate(B,function(C,D){this[D]=C;},this);}A.prototype={viewControllers:null,stack:null,poppedStack:null,navigationBar:null,_pushToPoppedStack:function(B){this.poppedStack.push(B);},didClickTitle:function(){var B=this.getTopViewController();if(B&&B.scrollView){B.scrollView.scrollTo(0,0,300);}},goBack:function(){if(!this.popViewController()){this.popToRootViewController();}},getViewController:function(C){var E,D=0,B=this.viewControllers.length;for(D;D<B;D++){if(this.viewControllers[D].NAME===C||(typeof this.viewControllers[D]==="function"&&this.viewControllers[D].prototype.NAME===C)){if(typeof this.viewControllers[D]==="function"){this.viewControllers[D]=new this.viewControllers[D];}E=this.viewControllers[D];break;}}return E||-1;},requireViewControllers:function(B){if(!this._didRequireViewControllers){this._didRequireViewControllers=true;mui.each(B,function(D){var C=this.getViewController(D);C.navigationController=this;if(!this.getViewControllerFromStack(C,null,true)||!this.getViewControllerFromPoppedStack(C,null,true)){this.pushViewController(C,undefined,true);}},this);}},saveStack:function(){if(this.appController.appInfo.persistenceMode&&this.appController.appInfo.persistenceMode!=="none"&&typeof JSON!=="undefined"){var B=[],D=this.appController.getData("mui_controllers")||{},C={};mui.each(this.stack,function(E){B.push({NAME:E.viewController.NAME,title:E.viewController.title,timestamp:E.timestamp,params:E.params||{}});});C.nav_controller=this.NAME;C.stack=B;D[this.NAME]=C;this.appController.setData("mui_controllers",D);}},pushViewController:function(E,F,C){E.navigationController=this;for(var D=0,B=this.stack.length;D<B;D++){if(this.stack[D].viewController.NAME===E.NAME){this.stack.splice(D,1);break;}}if(this.stack.length>0&&this.stack[this.stack.length-1].viewController.NAME===E.NAME){this.stack.pop();}this.stack.push({viewController:E,params:F,timestamp:+(new Date)});if(!C){this.appController.openViewController(E,F);}return E;},popViewController:function(B){var C=this.stack.pop();if(C){this._pushToPoppedStack(C);}if(C&&!B&&this.stack.length>0){this.appController.popping=true;this.appController.openViewController(this.stack[this.stack.length-1].viewController,this.stack[this.stack.length-1].params);}return C;},popToViewController:function(G,H,C){var E,B=this.stack.length,D=B-1,F=this.stack.slice(),I=this.poppedStack.slice();for(D;D>=0;D--){if(this.stack[D].viewController.NAME===G.NAME&&mui.ApplicationController.objectsEqual(H,this.stack[D].params)){E=this.stack[D];break;}else{I.push(F.pop());}}if(E){this.poppedStack=I;this.stack=F;if(!C){this.appController.popping=true;this.appController.openViewController(E.viewController,E.params);}}return E;},pushToViewController:function(B,F,E){var I,H=this.poppedStack.length,G=H-1,D=this.stack.slice(),C=this.poppedStack.slice(),J=this.getTopViewController();for(G;G>=0;G--){if(this.poppedStack[G].viewController.NAME===B.NAME&&mui.ApplicationController.objectsEqual(F,this.poppedStack[G].params)){I=this.poppedStack[G];break;}}if(I){this.poppedStack=C;this.stack=D;if(!E){this.appController.pushing=true;this.appController.openViewController(I.viewController,I.params);}}return I;},popToRootViewController:function(){if(this.stack.length>1){this.popToViewController(this.stack[0].viewController);}else{if(this.stack.length===1){this.stack[0].viewController.reloadView(this.stack[0].viewController.params);}}},restoreStack:function(B){this.stack=[];mui.each(B,function(D){var C=this.getViewController(D.NAME);if(D.title&&!C.title){C.title=D.title;}C.navigationController=this;C.unloadView();this.stack.push({viewController:C,title:C.title,params:D.params,timestamp:D.timestamp});},this);},getPreviousViewController:function(){var B;if(this.stack.length>1){B=this.stack[this.stack.length-2].viewController;}return B;},getTopViewController:function(){var B=this.viewControllers[0];if(this.stack.length>0){B=this.stack[this.stack.length-1].viewController;}if(typeof B=="function"){B=new B;}B.navigationController=this;return B;},viewControllerWillAppear:function(E){var B=E.navigationItems||{},C=this.getPreviousViewController();if(C&&!B.backItem){B.back=C.backTitle||C.title||true;B.backAction=mui.bind(this.goBack,this);}else{if(B.backItem){B.back=B.backItem.title||true;B.backAction=B.backItem.action;}}if(!B.title&&typeof E.title==="string"){B.title=E.title;}if(B!==this.navigationBar.items){this.navigationBar.setItems(B,this.appController.animating,this.appController.popping);}if(!B.title&&!B.leftBarItem&&!B.rightBarItem&&!B.back){this.hideNavigationBar();}if(!E.parentViewController){for(var D=this.stack.length-1;D>=0;D--){if(this.stack[D].viewController.NAME===E.NAME){this.stack[D].timestamp=+(new Date);break;}}this.saveStack();}},hideNavigationBar:function(){this.navigationBar.hide();},getLastUrl:function(){var B=this.viewControllers[0].NAME||this.viewControllers[0].prototype.NAME;var C=this.NAME+"/"+B;if(this.stack.length>0){C=this.NAME+"/"+(this.stack[this.stack.length-1].viewController.NAME||this.stack[this.stack.length-1].viewController.prototype.NAME);if(this.stack[this.stack.length-1].params){C+="?";mui.iterate(this.stack[this.stack.length-1].params,function(D,E){C+=[E,D].join("=");C+="&";});
C=C.substr(0,C.length-1);}}return C;},getViewControllerFromStack:function(F,G,E){var D,B=this.stack.length,C=B-1;for(C;C>=0;C--){if(this.stack[C].viewController.NAME===F.NAME&&(E||mui.ApplicationController.objectsEqual(G,this.stack[C].params))){D=this.stack[C].viewController;break;}}return D;},getViewControllerFromPoppedStack:function(F,G,E){var D,B=this.poppedStack.length,C=B-1;for(C;C>=0;C--){if(this.poppedStack[C].viewController.NAME===F.NAME&&(E||mui.ApplicationController.objectsEqual(G,this.poppedStack[C].params))){D=this.poppedStack[C].viewController;break;}}return D;},initializeNavigationBar:function(){var B={};B.navigationController=this;if(this.tintColor){B.tintColor=this.tintColor;}if(this.hasCaps){B.hasCaps=this.hasCaps;}this.navigationBar=new mui.NavigationBar(B);},initializeStack:function(){this.stack=[];this.poppedStack=[];},initialize:function(){this.viewControllers=this.viewControllers||[];this.appController=mui.ApplicationController.getInstance();this.initializeNavigationBar();this.initializeStack();}};mui.add("NavigationController",A);})();if(!this.JSON){this.JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());(function(){const templateRegExp=new RegExp("%{([\\w-.]+)}","g");const scrollViewIdleDelay=500;function paramsToString(params){var str="";mui.iterate(params,function(v,n){str+=n+"="+v+"&";});str=str.substring(0,str.length-2);return str;}function ViewController(def){mui.iterate(def,function(v,n){this[n]=v;},this);this.navigationItems={};}ViewController.MODAL_FULL="full";ViewController.MODAL_MASTER="master";ViewController.prototype={_viewLoaded:false,_contentLoaded:false,persistView:true,renderingContext:null,cacheView:true,reloadOnPush:false,view:null,params:null,navigationItems:null,isViewLoaded:function(){return this._viewLoaded;},isViewLoadedWithParams:function(params){var isLoaded=this._viewLoaded;if(isLoaded){isLoaded=this._viewContents&&typeof this._viewContents[paramsToString(params)]!=="undefined";}return isLoaded;},_viewDidLoad:function(){this._viewLoaded=true;this.view.removeAttribute(MUI_DOM.loadingAttr);this.viewDidLoad();if(this.scrollView){setTimeout(mui.bind(this.scrollView.flashScrollBars,this.scrollView),scrollViewIdleDelay);}},_onModalTransitionEnd:function(dismissed){if(dismissed){var dismissedView=mui.get("#mui-modal-in");var returningView=mui.get("#mui-modal-out");var header=mui.get("header",dismissedView);if(header){mui.insertBefore(header,document.body.children[0]);}this.appear();this._viewDidAppear();this._showingModalViewController.disappear();this._showingModalViewController._viewDidDisappear();mui.get("#mui-views").appendChild(this._showingModalViewController.view);mui.removeElement("#mui-modal-in");mui.removeElement("#mui-modal-out");
this._showingModalViewController=null;this._modalTransition=null;}else{this._showingModalViewController._viewDidAppear();this._viewDidDisappear();}},getTransition:function(){if(this.navigationController instanceof mui.NavigationController){return{type:"push"};}return false;},setView:function(el,isLoaded){this.view=(typeof el==="string")?mui.get(el):el;mui.addClass(this.view,MUI_DOM.viewClassName);if(isLoaded){var n=mui.createElement("div",{innerHTML:this.view.innerHTML});this.view.innerHTML="";this._disableReload=true;this.setViewContent(n);}else{this.view.setAttribute(MUI_DOM.loadingAttr,"true");}if(this.renderingContext){this.renderingContext.appendChild(this.view);}},setViewContent:function(content){var node=mui.createElement("div",{className:MUI_DOM.viewContentClassName});var oldNode;if(!this._contentLoaded){this.view.appendChild(node);if(typeof content==="string"){node.innerHTML=content;}else{node.appendChild(content);}if(mui.ApplicationController.getInstance().shouldScrollViews){this.scrollView=new mui.ScrollView({element:this.view,contentSize:"100%"});}this._contentLoaded=true;}else{oldNode=mui.get(".mui-view-content",this.view);mui.removeElement(oldNode);if(this.scrollView&&this.view.children[0]){this.scrollView.getScrollHost().appendChild(node);}else{this.view.appendChild(node);}if(typeof content==="string"){node.innerHTML=content;}else{node.appendChild(content);}}this._viewDidLoad();this.view.removeAttribute(MUI_DOM.loadingAttr);},appendViewContent:function(content){if(!this._contentLoaded){return this.setViewContent(content);}var viewC=mui.get(".mui-view-content",this.view),t;if(typeof content==="string"){viewC.innerHTML+=content;}else{viewC.appendChild(content);}},prependViewContent:function(content){if(!this._contentLoaded){return this.setViewContent(content);}var node,viewC=mui.get(".mui-view-content",this.view);if(typeof content==="string"){node=mui.createElement("div");node.innerHTML=content;}else{node=content;}if(viewC.firstChild){mui.insertBefore(node,viewC.firstChild);}else{viewC.appendChild(node);}},fetchViewContent:function(url,callback){mui.io(url,{callback:{success:function(o){this.setViewContent(o.responseText);if(callback){callback(true);}},failure:function(o){alert("Unable to load page. Please refresh");this.setViewContent("Unable to load page. Please refresh");if(callback){callback(false);}},scope:this}});},fetchJSON:function(url,callback,scope){mui.io(url,{method:"get",callback:{success:function(o){try{var obj=eval("("+o.responseText+")");callback.call(scope||this,obj);}catch(e){}},scope:this}});},map:function(data,el,nodeName,nodeConfig){return mui.map(data,el,nodeName,nodeConfig);},setNavigationItem:function(section,item){switch(section){case"leftBarItem":case"title":case"rightBarItem":case"backItem":this.navigationItems[section]=item;break;default:throw new Error("NavigationBar: Invalid section name: "+section+". Must be one of title, leftBarItem, or rightBarItem");}if(this.navigationController&&this.navigationController.navigationBar){if(this._showing){this.navigationController.navigationBar.setItems(this.navigationItems,false,false);}else{this._refreshNavigationItems=true;}}},presentModalViewController:function(viewController,params,animated,modalOpts){var transition={type:"slide",direction:"bottom-to-top"};var doAnim=true,parentView=this,detailVC;if(animated===false){doAnim=false;}modalOpts=modalOpts||{};if(mui.UA.tablet){modalOpts.type=modalOpts.type||ViewController.MODAL_MASTER;if(this.isDetailViewController()){parentView=this.getMasterViewController();detailVC=this;}else{detailVC=this.getDetailViewController();}if(detailVC&&detailVC.view&&modalOpts.type!=ViewController.MODAL_MASTER){detailVC.view.style.display="none";}}else{modalOpts.type=ViewController.MODAL_FULL;}viewController.modalOpts=modalOpts;viewController.parentViewController=parentView;mui.ApplicationController.getInstance().showModalViewController(viewController,params,parentView,doAnim);},animateModalViewController:function(viewController,transition){var inView=mui.createElement("div",{id:"mui-modal-in"}),outView=mui.createElement("div",{id:"mui-modal-out"}),outViewWrap=mui.createElement("div",{id:"mui-views"}),outViewStyle=outView.style,header=mui.get("header"),footer=mui.get("footer");outViewStyle.position="absolute";outViewStyle.top="0";outViewStyle.left="0";outViewStyle.width="100%";outViewStyle.zIndex="1";inView.style.zIndex="3";inView.style.minHeight=outViewStyle.minHeight=(window.innerHeight)+"px";if(header){outView.appendChild(header.cloneNode(true));}outViewWrap.appendChild(this.view.cloneNode(true));outView.appendChild(outViewWrap);if(footer){outView.appendChild(footer.cloneNode(true));}if(header){inView.appendChild(header);}inView.appendChild(viewController.view);document.body.appendChild(outView);document.body.appendChild(inView);this.disappear();viewController._viewWillAppear();viewController.appear();transition.onComplete=mui.bind(this._onModalTransitionEnd,this,false);var trans=new mui.Transition(inView,outView,transition);trans.execute();},showModalViewController:function(viewController){this.disappear();viewController._viewWillAppear();viewController.appear();},dismissModalViewController:function(){if(mui.UA.tablet&&this.isMasterViewController()){var detailVC=this.getDetailViewController();if(detailVC&&detailVC.view){detailVC.view.style.removeProperty("display");}}mui.ApplicationController.getInstance().dismissModalViewController(this);if(detailVC&&detailVC.scrollView&&detailVC.scrollView.size==0){detailVC.scrollView.retrieveSize();}delete this.modalOpts;},reloadView:function(params){if(!this._disableReload){this.view.setAttribute(MUI_DOM.loadingAttr,"true");this.loadView(params);}},loadView:function(params){},unloadView:function(){this._viewLoaded=false;},viewDidLoad:function(){},_viewDidAppear:function(){if(this.isViewLoaded()&&this.scrollView){setTimeout(mui.bind(this.scrollView.flashScrollBars,this.scrollView),scrollViewIdleDelay);}if(typeof this.viewDidAppear==="function"){this.viewDidAppear();
}mui.ApplicationController.getInstance().positionViewController(this);},_viewDidDisappear:function(){if(typeof this.viewDidDisappear==="function"){this.viewDidDisappear();}},_viewWillAppear:function(){if(this.scrollView){this.scrollView.hideScrollBars();}if(this._refreshNavigationItems){this.navigationController.navigationBar.setItems(this.navigationItems,false,false);}if(typeof this.viewWillAppear==="function"){this.viewWillAppear();}this._refreshNavigationItems=false;},_viewWillDisappear:function(popping){if(this.scrollView){this.scrollView.hideScrollBars();}if(typeof this.viewWillDisappear==="function"){this.viewWillDisappear(popping);}},appear:function(){var key=paramsToString(this.params);if(this._viewContents&&this._viewContents[key]&&this._viewContents[key].element&&this._viewContents[key].element.childElementCount){if(this.scrollView&&this.view.children[0]){this.scrollView.getScrollHost().innerHTML="";this.scrollView.getScrollHost().appendChild(this._viewContents[key].element);this.scrollView.scrollTo(this._viewContents[key].scrollOffsets.x,this._viewContents[key].scrollOffsets.y,0,null,true);}else{this.view.innerHTML="";this.view.appendChild(this._viewContents[key].element);}}if(this.navigationController){this.navigationController.viewControllerWillAppear(this);}this.view.setAttribute(MUI_DOM.viewShowingAttr,"true");if(this.scrollView&&this.scrollView.size==0){this.scrollView.retrieveSize();}this._showing=true;},disappear:function(){this.view.removeAttribute(MUI_DOM.viewShowingAttr);this._showing=false;if(this.cacheView){var element=mui.get("."+MUI_DOM.viewContentClassName,this.view);if(element){var node={element:element};if(this.scrollView){node.scrollOffsets=this.scrollView.getScrollOffsets();}this._viewContents=this._viewContents||{};this._viewContents[paramsToString(this.params)]=node;}}this.navigationItems={};},updateLayout:function(){var width;var height=window.innerHeight;var isDetail=this.isDetailViewController();var isMaster=this.isMasterViewController();var navbarEl=(this.navigationController&&this.navigationController.navigationBar)?this.navigationController.navigationBar.element:null;var appInfo=mui.ApplicationController.getInstance().appInfo;var isPortrait=height>window.innerWidth;if((mui.UA.tablet)&&appInfo.splitViews&&!appInfo.splitViews.hidesMasterViewInPortrait){isPortrait=false;}var navbarHeight=navbarEl?navbarEl.offsetHeight:0;var header=mui.get("body > header"),headerHeight=(header?header.offsetHeight:0);var footer=mui.get("body > footer"),footerHeight=(footer?footer.offsetHeight:0);if(isMaster){width=isPortrait?0:320+"px";mui.addClass(this.view,"mui-master");if(navbarEl){mui.addClass(navbarEl,"mui-master");}}else{if(isDetail){width=isPortrait?"100%":(window.innerWidth-320)+"px";mui.addClass(this.view,"mui-detail");if(navbarEl){mui.addClass(navbarEl,"mui-detail");}}else{width="100%";}}mui.setStyle(this.view,"width",width);if(navbarEl){navbarEl.style.width=width;}height=parseInt(window.innerHeight-footerHeight-headerHeight);if(this.view){this.view.style.height=this.view.style.minHeight=height+"px";}}};mui.add("ViewController",ViewController);})();(function(){var A=mui.NavigationController;function B(){}B.prototype={detailViewController:null,setDetailViewController:function(C){this._isMasterViewController=true;this.detailViewController=C;this.detailViewController._isDetailViewController=true;this.detailViewController.masterViewController=this;},isMasterViewController:function(){if(this instanceof A){return this._isMasterViewController;}if(this.navigationController instanceof A){return this.navigationController._isMasterViewController;}return this._isMasterViewController;},isDetailViewController:function(){if(this instanceof A){return this._isDetailViewController;}if(this.navigationController instanceof A){return this.navigationController._isDetailViewController;}return this._isDetailViewController;},getDetailViewController:function(){if(this.detailViewController){return(this.detailViewController instanceof A)?this.detailViewController.getTopViewController():this.detailViewController;}if(this.navigationController){return this.navigationController.getDetailViewController();}},getMasterViewController:function(){if(this.masterViewController){return this.masterViewController;}if(this.navigationController){var C=this.navigationController.masterViewController;return(C instanceof A)?C.getTopViewController():C;}},shouldLoadDetailViewController:function(C){if(this instanceof mui.ViewController&&this.navigationController){return this.navigationController.shouldLoadDetailViewController(C);}return false;},willChangeOrientation:function(C){var D=this.getDetailViewController();if(D){D.willChangeOrientation(C);}},willHideMasterViewController:function(){var C=this.getDetailViewController();if(C){C.willHideMasterViewController.apply(C,arguments);}},willShowMasterViewController:function(){var C=this.getDetailViewController();if(C){C.willShowMasterViewController();}},_willChangeOrientation:function(C){var F=this.getDetailViewController();var D;var E;if(F){if(!this._masterViewControllerButton){this._masterViewControllerButton=new mui.Button({title:this.title,action:mui.bind(this.showMasterViewControllerPopover,this)});this._masterViewControllerPopover=new mui.Popover({element:mui.createElement("div",{className:"mui-master-popover"}),anchorElement:this._masterViewControllerButton.element,callback:{popoverWillHide:mui.bind(function(){this._showingPopover=false;},this)}});}if(C==0||C==180){F.willHideMasterViewController(this,this._masterViewControllerButton);}else{if(this.renderingContext){this.removeRenderingContext();}F.willShowMasterViewController(this._masterViewControllerButton);}}if(this._masterViewControllerPopover){mui.removeElement(".mui-view-host",this._masterViewControllerPopover.element);this.hideMasterViewControllerPopover();mui.get("#mui-views").appendChild(this.view);}this.willChangeOrientation();},showMasterViewControllerPopover:function(){if(this._showingPopover){return;
}this._showingPopover=true;mui.addClass(document.body,"mui-showing-popover");this.view.style.width="";mui.addClass(this.view,"mui-inside-popover");if(!this.renderingContext){this.render(this._masterViewControllerPopover.element);}this._masterViewControllerPopover.render();this._masterViewControllerPopover.show();},render:function(C){var D=mui.createElement("div",{className:"mui-view-host"});C=C||mui.get("#mui-views")||document.body;if(this.navigationController&&this.navigationController.navigationBar){if(this.navigationController.navigationBar){this.navigationController.navigationBar.element.style.width="";this.view.style.width="";C.appendChild(this.navigationController.navigationBar.element);}D.appendChild(this.view);C.appendChild(D);mui.each(this.navigationController.viewControllers,function(E){E.renderingContext=D;if(E.view){D.appendChild(E.view);}});}this.renderingContext=C;},removeRenderingContext:function(){var C=mui.get("#mui-views");if(this.view){C.appendChild(this.view);}if(this.navigationController&&this.navigationController.navigationBar){if(this.navigationController.navigationBar&&this.navigationController.navigationBar.element){mui.get("body > header").appendChild(this.navigationController.navigationBar.element);}C.appendChild(this.view);mui.each(this.navigationController.viewControllers,function(D){D.renderingContext=null;if(D.view){C.appendChild(D.view);}});this.renderingContext=null;}mui.ApplicationController.getInstance().positionViewController();},hideMasterViewControllerPopover:function(){if(this.isDetailViewController()){return this.getMasterViewController().hideMasterViewControllerPopover();}if(!this._masterViewControllerPopover&&this instanceof A){var C=this.getTopViewController();if(!C){return;}return C.hideMasterViewControllerPopover();}if(!this._masterViewControllerPopover){return;}mui.removeClass(document.body,"mui-showing-popover");mui.removeClass(this.view,"mui-inside-popover");this._showingPopover=false;this._masterViewControllerPopover.hide();},restoreDetailViewController:function(){var D=this.getDetailViewController();var C=D.navigationController?D.navigationController.getLastUrl():D.getLastUrl();mui.ApplicationController.getInstance().openUrl(C);}};mui.mix(mui.ViewController,B);mui.mix(A,B);A.prototype.hideNavigationBar=function(){this.navigationBar.hide();if(this.detailViewController&&this.detailViewController.navigationBar){this.detailViewController.navigationBar.hide();}};})();