(function(){var A=null;function B(C){C=C||{};this.title=C.title;this.cancelButton=C.cancelButton;this.cancelButton=C.cancelButton;this.destructiveButton=C.destructiveButton;this.otherButtons=C.otherButtons;this.element=mui.createElement("div",{className:"mui-actionsheet"});this.contentEl=mui.createElement("div",{className:"mui-actioncontainer"});if(this.title){this.titleEl=mui.createElement("div",{className:"mui-title",innerHTML:this.title});this.contentEl.appendChild(this.titleEl);}if(this.destructiveButton){this.destructiveButtonEl=mui.createElement("div",{className:"mui-action-button mui-destructive",innerHTML:'<a class="mui-action-a" href="#">'+(this.destructiveButton.title)+"</a>"});this.contentEl.appendChild(this.destructiveButtonEl);}if(this.otherButtons){this.otherButtonElements=[];mui.each(this.otherButtons,function(E){var D=mui.createElement("div",{className:"mui-action-button mui-other",innerHTML:(E.icon?'<div class="mui-action-icon '+E.icon+'"></div>':"")+'<a class="mui-action-a" href="#">'+E.title+"</a>"});this.otherButtonElements.push(D);this.contentEl.appendChild(D);},this);}if(this.cancelButton){this.cancelButtonEl=mui.createElement("div",{className:"mui-action-button mui-cancel",innerHTML:'<a class="mui-action-a" href="#">'+this.cancelButton.title+"</a>"});this.contentEl.appendChild(this.cancelButtonEl);}this.contentEl.style.webkitTransform="translate3d(0, "+window.innerHeight+"px, 0)";this.element.appendChild(this.contentEl);document.body.appendChild(this.element);}B.prototype={handleEvent:function(C){switch(C.type){case"touchstart":case"mousedown":this.buttonTarget=mui.getAncestorByClassName(C.target,"mui-action-button");if(this.buttonTarget){mui.addClass(this.buttonTarget,"mui-depressed");}break;case"touchmove":case"mousemove":C.preventDefault();if(this.buttonTarget){mui.removeClass(this.buttonTarget,"mui-depressed");this.buttonTarget=null;}break;case"touchend":case"mouseup":case"click":C.preventDefault();if(this.buttonTarget){this.hide();mui.removeClass(this.buttonTarget,"mui-depressed");if(!mui.hasClass(this.buttonTarget,"mui-cancel")){if(mui.hasClass(this.buttonTarget,"mui-destructive")){switch(typeof this.destructiveButton.action){case"function":this.destructiveButton.action();break;case"string":window.location=this.destructiveButton.action;break;}}else{mui.each(this.otherButtonElements,function(D,E){if(D===this.buttonTarget){var F=this.otherButtons[E];switch(typeof F.action){case"function":F.action();break;case"string":window.location=F.action;break;}}},this);}}}else{if(C.target==this.element){this.hide();}}this.buttonTarget=null;break;case"webkitTransitionEnd":this.element.removeAttribute("x-mui-showing");this.element.style.height="0";this.element.style.opacity="";mui.removeEventListener(this.element,"webkitTransitionEnd",this);break;}},show:function(){B.hide();this.element.style.height=(window.innerHeight+1)+"px";this.element.setAttribute("x-mui-showing","true");this.contentEl.style.webkitTransform="translate3d(0, "+(window.innerHeight-this.contentEl.offsetHeight)+"px, 0)";mui.on(this.element,"touchstart",this);mui.on(this.element,"touchmove",this);mui.on(this.element,"click",this);A=this;return this;},hide:function(){mui.on(this.element,"webkitTransitionEnd",this);this.element.style.opacity="0";this.contentEl.style.webkitTransform="translate3d(0, "+window.innerHeight+"px, 0)";mui.removeEventListener(this.element,"touchstart",this);mui.removeEventListener(this.element,"touchmove",this);mui.removeEventListener(this.element,"touchend",this);A=null;return this;}};B.hide=function(){var C=A;if(C){C.hide();}return C;};mui.ActionSheet=B;})();